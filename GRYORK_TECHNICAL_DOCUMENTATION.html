<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gryork Platform - Technical Documentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #6366f1;
        --primary-dark: #4f46e5;
        --primary-light: #818cf8;
        --secondary: #06b6d4;
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --dark: #1e293b;
        --darker: #0f172a;
        --light: #f8fafc;
        --gray-100: #f1f5f9;
        --gray-200: #e2e8f0;
        --gray-300: #cbd5e1;
        --gray-400: #94a3b8;
        --gray-500: #64748b;
        --gray-600: #475569;
        --gray-700: #334155;
        --gradient-primary: linear-gradient(
          135deg,
          #6366f1 0%,
          #8b5cf6 50%,
          #a855f7 100%
        );
        --gradient-secondary: linear-gradient(135deg, #06b6d4 0%, #0ea5e9 100%);
        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        --shadow:
          0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        --shadow-lg:
          0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        --shadow-xl:
          0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family:
          "Inter",
          -apple-system,
          BlinkMacSystemFont,
          sans-serif;
        background: var(--light);
        color: var(--dark);
        line-height: 1.7;
        font-size: 16px;
      }

      /* Sidebar Navigation */
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 280px;
        height: 100vh;
        background: var(--darker);
        color: white;
        overflow-y: auto;
        z-index: 100;
        padding: 24px 0;
        transition: transform 0.3s ease;
      }

      .sidebar-header {
        padding: 0 24px 24px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        margin-bottom: 16px;
      }

      .logo {
        font-size: 28px;
        font-weight: 800;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .logo-subtitle {
        font-size: 12px;
        color: var(--gray-400);
        margin-top: 4px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .nav-section {
        margin-bottom: 8px;
      }

      .nav-section-title {
        padding: 8px 24px;
        font-size: 11px;
        font-weight: 600;
        color: var(--gray-500);
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .nav-link {
        display: block;
        padding: 10px 24px;
        color: var(--gray-300);
        text-decoration: none;
        font-size: 14px;
        transition: all 0.2s ease;
        border-left: 3px solid transparent;
      }

      .nav-link:hover {
        background: rgba(99, 102, 241, 0.1);
        color: white;
        border-left-color: var(--primary);
      }

      .nav-link.active {
        background: rgba(99, 102, 241, 0.15);
        color: var(--primary-light);
        border-left-color: var(--primary);
      }

      .nav-link .icon {
        margin-right: 10px;
        width: 18px;
        display: inline-block;
        text-align: center;
      }

      /* Main Content */
      .main-content {
        margin-left: 280px;
        min-height: 100vh;
      }

      /* Hero Section */
      .hero {
        background: var(--gradient-primary);
        color: white;
        padding: 80px 60px;
        position: relative;
        overflow: hidden;
      }

      .hero::before {
        content: "";
        position: absolute;
        top: -50%;
        right: -20%;
        width: 80%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.1) 0%,
          transparent 60%
        );
        pointer-events: none;
      }

      .hero-content {
        position: relative;
        z-index: 1;
        max-width: 900px;
      }

      .hero h1 {
        font-size: 48px;
        font-weight: 800;
        margin-bottom: 16px;
        line-height: 1.1;
      }

      .hero .subtitle {
        font-size: 20px;
        opacity: 0.9;
        margin-bottom: 24px;
      }

      .hero-meta {
        display: flex;
        gap: 24px;
        flex-wrap: wrap;
      }

      .meta-item {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        opacity: 0.8;
      }

      /* Content Sections */
      .content {
        padding: 60px;
        max-width: 1200px;
      }

      .section {
        margin-bottom: 60px;
        scroll-margin-top: 20px;
      }

      .section-title {
        font-size: 32px;
        font-weight: 700;
        color: var(--dark);
        margin-bottom: 24px;
        padding-bottom: 12px;
        border-bottom: 3px solid var(--primary);
        display: inline-block;
      }

      .subsection {
        margin: 40px 0;
      }

      .subsection-title {
        font-size: 22px;
        font-weight: 600;
        color: var(--gray-700);
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .subsection-title .number {
        background: var(--gradient-primary);
        color: white;
        width: 32px;
        height: 32px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-weight: 700;
      }

      p {
        margin-bottom: 16px;
        color: var(--gray-600);
      }

      .lead {
        font-size: 18px;
        color: var(--gray-700);
        line-height: 1.8;
      }

      /* Cards */
      .card {
        background: white;
        border-radius: 16px;
        box-shadow: var(--shadow);
        padding: 24px;
        margin-bottom: 24px;
        border: 1px solid var(--gray-200);
        transition: all 0.3s ease;
      }

      .card:hover {
        box-shadow: var(--shadow-lg);
        transform: translateY(-2px);
      }

      .card-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 16px;
      }

      .card-icon {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        background: var(--gradient-primary);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
      }

      .card-title {
        font-size: 18px;
        font-weight: 600;
        color: var(--dark);
      }

      .card-subtitle {
        font-size: 13px;
        color: var(--gray-500);
      }

      /* Grid Layouts */
      .grid-2 {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 24px;
      }

      .grid-3 {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 24px;
      }

      @media (max-width: 1200px) {
        .grid-3 {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (max-width: 900px) {
        .grid-2,
        .grid-3 {
          grid-template-columns: 1fr;
        }
      }

      /* Tables */
      .table-wrapper {
        overflow-x: auto;
        border-radius: 12px;
        box-shadow: var(--shadow);
        margin: 24px 0;
        background: white;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        font-size: 14px;
      }

      th {
        background: var(--darker);
        color: white;
        padding: 14px 16px;
        text-align: left;
        font-weight: 600;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      th:first-child {
        border-top-left-radius: 12px;
      }

      th:last-child {
        border-top-right-radius: 12px;
      }

      td {
        padding: 12px 16px;
        border-bottom: 1px solid var(--gray-200);
        color: var(--gray-700);
      }

      tr:hover td {
        background: var(--gray-100);
      }

      tr:last-child td {
        border-bottom: none;
      }

      tr:last-child td:first-child {
        border-bottom-left-radius: 12px;
      }

      tr:last-child td:last-child {
        border-bottom-right-radius: 12px;
      }

      /* Code Blocks */
      .code-block {
        background: var(--darker);
        border-radius: 12px;
        padding: 20px;
        margin: 16px 0;
        overflow-x: auto;
        position: relative;
      }

      .code-block::before {
        content: attr(data-lang);
        position: absolute;
        top: 10px;
        right: 14px;
        font-size: 11px;
        color: var(--gray-500);
        text-transform: uppercase;
      }

      pre {
        margin: 0;
        font-family: "JetBrains Mono", monospace;
        font-size: 13px;
        line-height: 1.6;
        color: #e2e8f0;
      }

      code {
        font-family: "JetBrains Mono", monospace;
      }

      .inline-code {
        background: var(--gray-100);
        color: var(--primary-dark);
        padding: 2px 8px;
        border-radius: 6px;
        font-size: 13px;
        font-weight: 500;
      }

      /* Badges */
      .badge {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 6px;
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .badge-primary {
        background: rgba(99, 102, 241, 0.15);
        color: var(--primary-dark);
      }

      .badge-success {
        background: rgba(16, 185, 129, 0.15);
        color: var(--success);
      }

      .badge-warning {
        background: rgba(245, 158, 11, 0.15);
        color: var(--warning);
      }

      .badge-danger {
        background: rgba(239, 68, 68, 0.15);
        color: var(--danger);
      }

      .badge-secondary {
        background: rgba(6, 182, 212, 0.15);
        color: var(--secondary);
      }

      /* Status Indicators */
      .status-flow {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        align-items: center;
        margin: 16px 0;
      }

      .status-item {
        background: var(--gray-100);
        padding: 8px 14px;
        border-radius: 8px;
        font-size: 13px;
        font-weight: 500;
        color: var(--gray-700);
        border: 1px solid var(--gray-200);
      }

      .status-arrow {
        color: var(--gray-400);
        font-size: 18px;
      }

      /* Lists */
      ul {
        margin: 16px 0;
        padding-left: 24px;
      }

      li {
        margin-bottom: 8px;
        color: var(--gray-600);
      }

      li strong {
        color: var(--gray-800);
      }

      /* API Method Tags */
      .method {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 6px;
        font-size: 11px;
        font-weight: 700;
        text-transform: uppercase;
        min-width: 55px;
        text-align: center;
      }

      .method-get {
        background: #10b981;
        color: white;
      }

      .method-post {
        background: #3b82f6;
        color: white;
      }

      .method-put {
        background: #f59e0b;
        color: white;
      }

      .method-patch {
        background: #8b5cf6;
        color: white;
      }

      .method-delete {
        background: #ef4444;
        color: white;
      }

      /* Architecture Diagram */
      .architecture-diagram {
        background: white;
        border-radius: 16px;
        padding: 32px;
        margin: 24px 0;
        box-shadow: var(--shadow);
      }

      .domain-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 16px;
      }

      .domain-item {
        border: 2px solid var(--gray-200);
        border-radius: 12px;
        padding: 16px;
        transition: all 0.3s ease;
      }

      .domain-item:hover {
        border-color: var(--primary);
        box-shadow: var(--shadow);
      }

      .domain-url {
        font-family: "JetBrains Mono", monospace;
        font-size: 14px;
        color: var(--primary);
        font-weight: 500;
        margin-bottom: 4px;
      }

      .domain-purpose {
        font-size: 13px;
        color: var(--gray-500);
      }

      .domain-portal {
        margin-top: 8px;
        font-size: 12px;
        color: var(--gray-600);
        font-weight: 500;
      }

      /* Tech Stack */
      .tech-stack {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin: 16px 0;
      }

      .tech-item {
        display: flex;
        align-items: center;
        gap: 8px;
        background: white;
        padding: 10px 16px;
        border-radius: 10px;
        box-shadow: var(--shadow-sm);
        border: 1px solid var(--gray-200);
        font-size: 14px;
        font-weight: 500;
        color: var(--gray-700);
      }

      .tech-item .icon {
        font-size: 20px;
      }

      /* Workflow Steps */
      .workflow {
        position: relative;
      }

      .workflow-step {
        display: flex;
        gap: 20px;
        margin-bottom: 16px;
        position: relative;
      }

      .workflow-step::before {
        content: "";
        position: absolute;
        left: 19px;
        top: 40px;
        width: 2px;
        height: calc(100% + 16px);
        background: var(--gray-200);
      }

      .workflow-step:last-child::before {
        display: none;
      }

      .step-number {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--gradient-primary);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 14px;
        flex-shrink: 0;
        z-index: 1;
      }

      .step-content {
        flex: 1;
        background: white;
        padding: 16px 20px;
        border-radius: 12px;
        box-shadow: var(--shadow-sm);
        border: 1px solid var(--gray-200);
      }

      .step-title {
        font-weight: 600;
        color: var(--dark);
        margin-bottom: 4px;
      }

      .step-actor {
        font-size: 12px;
        color: var(--gray-500);
        margin-bottom: 8px;
      }

      .step-api {
        font-family: "JetBrains Mono", monospace;
        font-size: 12px;
        color: var(--primary);
        background: rgba(99, 102, 241, 0.1);
        padding: 4px 8px;
        border-radius: 6px;
        display: inline-block;
      }

      /* Footer */
      .footer {
        background: var(--darker);
        color: var(--gray-400);
        padding: 40px 60px;
        text-align: center;
        margin-top: 60px;
      }

      .footer p {
        color: var(--gray-500);
        font-size: 14px;
      }

      /* Scroll to Top */
      .scroll-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 50px;
        height: 50px;
        background: var(--gradient-primary);
        color: white;
        border: none;
        border-radius: 50%;
        font-size: 20px;
        cursor: pointer;
        box-shadow: var(--shadow-lg);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 99;
      }

      .scroll-top.visible {
        opacity: 1;
        visibility: visible;
      }

      .scroll-top:hover {
        transform: translateY(-3px);
        box-shadow: var(--shadow-xl);
      }

      /* Mobile Responsive */
      .mobile-menu-btn {
        display: none;
        position: fixed;
        top: 16px;
        left: 16px;
        z-index: 200;
        background: var(--primary);
        color: white;
        border: none;
        width: 44px;
        height: 44px;
        border-radius: 10px;
        font-size: 20px;
        cursor: pointer;
        box-shadow: var(--shadow);
      }

      @media (max-width: 1024px) {
        .sidebar {
          transform: translateX(-100%);
        }

        .sidebar.open {
          transform: translateX(0);
        }

        .main-content {
          margin-left: 0;
        }

        .mobile-menu-btn {
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .hero {
          padding: 100px 30px 60px;
        }

        .hero h1 {
          font-size: 32px;
        }

        .content {
          padding: 30px;
        }
      }

      /* Overlay for mobile */
      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 99;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .overlay.visible {
        opacity: 1;
        visibility: visible;
      }

      /* Print Styles */
      @media print {
        .sidebar,
        .scroll-top,
        .mobile-menu-btn {
          display: none !important;
        }
        .main-content {
          margin-left: 0;
        }
        .hero {
          background: var(--primary) !important;
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
        }
      }
    </style>
  </head>
  <body>
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>

    <!-- Overlay -->
    <div class="overlay" onclick="toggleSidebar()"></div>

    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="logo">Gryork</div>
        <div class="logo-subtitle">Technical Documentation</div>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Overview</div>
        <a href="#overview" class="nav-link"
          ><span class="icon">üìã</span>System Overview</a
        >
        <a href="#architecture" class="nav-link"
          ><span class="icon">üèóÔ∏è</span>Architecture</a
        >
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Backend</div>
        <a href="#models" class="nav-link"
          ><span class="icon">üì¶</span>Data Models</a
        >
        <a href="#routes" class="nav-link"
          ><span class="icon">üõ§Ô∏è</span>API Routes</a
        >
        <a href="#services" class="nav-link"
          ><span class="icon">‚öôÔ∏è</span>Services</a
        >
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Frontend</div>
        <a href="#portals" class="nav-link"
          ><span class="icon">üñ•Ô∏è</span>Portals</a
        >
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Configuration</div>
        <a href="#config" class="nav-link"
          ><span class="icon">üîß</span>Config Files</a
        >
        <a href="#auth" class="nav-link"
          ><span class="icon">üîê</span>Authentication</a
        >
        <a href="#uploads" class="nav-link"
          ><span class="icon">üì§</span>File Uploads</a
        >
        <a href="#email" class="nav-link"><span class="icon">üìß</span>Email</a>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Workflow</div>
        <a href="#workflow" class="nav-link"
          ><span class="icon">üîÑ</span>Workflow Mapping</a
        >
        <a href="#states" class="nav-link"
          ><span class="icon">üìä</span>State Flows</a
        >
        <a href="#env" class="nav-link"
          ><span class="icon">üîë</span>Environment</a
        >
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Hero Section -->
      <section class="hero">
        <div class="hero-content">
          <h1>Gryork Platform</h1>
          <p class="subtitle">
            Complete Technical Documentation for Bill Discounting Platform
          </p>
          <div class="hero-meta">
            <div class="meta-item">
              <span>üìå</span>
              <span>Version 1.0</span>
            </div>
            <div class="meta-item">
              <span>üìÖ</span>
              <span>February 12, 2026</span>
            </div>
            <div class="meta-item">
              <span>üè¢</span>
              <span>Construction Industry</span>
            </div>
          </div>
        </div>
      </section>

      <div class="content">
        <!-- System Overview -->
        <section class="section" id="overview">
          <h2 class="section-title">System Overview</h2>
          <p class="lead">
            Gryork is a comprehensive
            <strong>bill discounting platform</strong> designed for the
            construction industry. It creates a marketplace for invoice
            financing, connecting all stakeholders in the payment ecosystem.
          </p>

          <div class="grid-3" style="margin-top: 32px">
            <div class="card">
              <div class="card-header">
                <div class="card-icon">üèóÔ∏è</div>
                <div>
                  <div class="card-title">EPC Companies</div>
                  <div class="card-subtitle">Buyers</div>
                </div>
              </div>
              <p>
                Large contractors who need to pay sub-contractors. They review
                bills and place bids to fund invoices.
              </p>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="card-icon">üë∑</div>
                <div>
                  <div class="card-title">Sub-Contractors</div>
                  <div class="card-subtitle">Sellers</div>
                </div>
              </div>
              <p>
                Smaller contractors who need earlier payment for their invoices.
                They upload bills and accept funding offers.
              </p>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="card-icon">üè¶</div>
                <div>
                  <div class="card-title">NBFCs</div>
                  <div class="card-subtitle">Financiers</div>
                </div>
              </div>
              <p>
                Financial institutions that fund the bill discounting, providing
                the capital for early payments.
              </p>
            </div>
          </div>

          <div class="card" style="margin-top: 24px">
            <h4 style="margin-bottom: 12px; color: var(--dark)">
              üí° Core Value Proposition
            </h4>
            <p style="margin: 0">
              Sub-contractors upload their verified bills, and EPC companies can
              bid on them to provide early payment (at a discount). This creates
              a marketplace for invoice financing in the construction sector,
              improving cash flow for sub-contractors while providing investment
              opportunities for financiers.
            </p>
          </div>
        </section>

        <!-- Architecture -->
        <section class="section" id="architecture">
          <h2 class="section-title">Architecture</h2>

          <div class="subsection">
            <h3 class="subsection-title">Multi-Domain Structure</h3>
            <div class="domain-list">
              <div class="domain-item">
                <div class="domain-url">gryork.com</div>
                <div class="domain-purpose">Public Marketing Website</div>
                <div class="domain-portal">Portal: Gryork-public (Next.js)</div>
              </div>
              <div class="domain-item">
                <div class="domain-url">app.gryork.com</div>
                <div class="domain-purpose">Sub-Contractor Portal</div>
                <div class="domain-portal">
                  Portal: subcontractor-portal (Vite/React)
                </div>
              </div>
              <div class="domain-item">
                <div class="domain-url">link.gryork.com</div>
                <div class="domain-purpose">GryLink Onboarding</div>
                <div class="domain-portal">
                  Portal: grylink-portal (Vite/React)
                </div>
              </div>
              <div class="domain-item">
                <div class="domain-url">partner.gryork.com</div>
                <div class="domain-purpose">EPC & NBFC Portal</div>
                <div class="domain-portal">
                  Portal: partner-portal (Vite/React)
                </div>
              </div>
              <div class="domain-item">
                <div class="domain-url">admin.gryork.com</div>
                <div class="domain-purpose">Internal Admin Portal</div>
                <div class="domain-portal">
                  Portal: official_portal (Vite/React)
                </div>
              </div>
            </div>
          </div>

          <div class="subsection">
            <h3 class="subsection-title">Technology Stack</h3>
            <div class="tech-stack">
              <div class="tech-item">
                <span class="icon">üü¢</span> Node.js + Express
              </div>
              <div class="tech-item">
                <span class="icon">üçÉ</span> MongoDB + Mongoose
              </div>
              <div class="tech-item">
                <span class="icon">‚òÅÔ∏è</span> Cloudinary
              </div>
              <div class="tech-item">
                <span class="icon">üìß</span> Nodemailer
              </div>
              <div class="tech-item"><span class="icon">üîê</span> JWT Auth</div>
              <div class="tech-item">
                <span class="icon">‚öõÔ∏è</span> React + TypeScript
              </div>
              <div class="tech-item"><span class="icon">‚ö°</span> Vite</div>
              <div class="tech-item"><span class="icon">‚ñ≤</span> Next.js</div>
            </div>
          </div>
        </section>

        <!-- Backend Models -->
        <section class="section" id="models">
          <h2 class="section-title">Backend Models</h2>

          <!-- User Model -->
          <div class="subsection">
            <h3 class="subsection-title">
              <span class="number">1</span>
              User Model
            </h3>
            <p>
              <strong>File:</strong>
              <code class="inline-code">backend/models/User.js</code>
            </p>
            <p>All system users including internal staff and external users.</p>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code class="inline-code">name</code></td>
                    <td>String</td>
                    <td>Required, trimmed</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">email</code></td>
                    <td>String</td>
                    <td>Required, unique, lowercase</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">password</code></td>
                    <td>String</td>
                    <td>Hashed with bcrypt (12 rounds)</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">phone</code></td>
                    <td>String</td>
                    <td>Optional</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">role</code></td>
                    <td>Enum</td>
                    <td>sales, epc, subcontractor, ops, rmt, admin</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">isActive</code></td>
                    <td>Boolean</td>
                    <td>Default: true</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">companyId</code></td>
                    <td>ObjectId ‚Üí Company</td>
                    <td>For EPC users</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">subContractorId</code></td>
                    <td>ObjectId ‚Üí SubContractor</td>
                    <td>For sub-contractor users</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Company Model -->
          <div class="subsection">
            <h3 class="subsection-title">
              <span class="number">2</span>
              Company Model
            </h3>
            <p>
              <strong>File:</strong>
              <code class="inline-code">backend/models/Company.js</code>
            </p>
            <p>EPC/Buyer companies that onboard to the platform.</p>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code class="inline-code">companyName</code></td>
                    <td>String</td>
                    <td>Required</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">ownerName</code></td>
                    <td>String</td>
                    <td>Required</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">email</code></td>
                    <td>String</td>
                    <td>Required, unique</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">phone</code></td>
                    <td>String</td>
                    <td>Required</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">status</code></td>
                    <td>Enum</td>
                    <td>Company lifecycle status</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">salesAgentId</code></td>
                    <td>ObjectId ‚Üí User</td>
                    <td>Who created this lead</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">statusHistory</code></td>
                    <td>Array</td>
                    <td>Audit trail</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <h4 style="margin-top: 16px; color: var(--gray-700)">
              Status Enum Values:
            </h4>
            <div class="status-flow">
              <span class="status-item">LEAD_CREATED</span>
              <span class="status-arrow">‚Üí</span>
              <span class="status-item">CREDENTIALS_CREATED</span>
              <span class="status-arrow">‚Üí</span>
              <span class="status-item">DOCS_SUBMITTED</span>
              <span class="status-arrow">‚Üí</span>
              <span class="status-item">ACTIVE</span>
            </div>
          </div>

          <!-- SubContractor Model -->
          <div class="subsection">
            <h3 class="subsection-title">
              <span class="number">3</span>
              SubContractor Model
            </h3>
            <p>
              <strong>File:</strong>
              <code class="inline-code">backend/models/SubContractor.js</code>
            </p>
            <p>Sub-contractor/seller organizations.</p>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code class="inline-code">companyName</code></td>
                    <td>String</td>
                    <td>Optional initially</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">email</code></td>
                    <td>String</td>
                    <td>Required</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">vendorId</code></td>
                    <td>String</td>
                    <td>Vendor ID from EPC</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">gstin</code></td>
                    <td>String</td>
                    <td>GST Number</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">status</code></td>
                    <td>Enum</td>
                    <td>LEAD_CREATED, PROFILE_INCOMPLETE, PROFILE_COMPLETED</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">linkedEpcId</code></td>
                    <td>ObjectId ‚Üí Company</td>
                    <td>Required - which EPC added them</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">salesAgentId</code></td>
                    <td>ObjectId ‚Üí User</td>
                    <td>Inherited from EPC</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Bill Model -->
          <div class="subsection">
            <h3 class="subsection-title">
              <span class="number">4</span>
              Bill Model
            </h3>
            <p>
              <strong>File:</strong>
              <code class="inline-code">backend/models/Bill.js</code>
            </p>
            <p>Bills/invoices uploaded by sub-contractors.</p>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code class="inline-code">subContractorId</code></td>
                    <td>ObjectId ‚Üí SubContractor</td>
                    <td>Required</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">billNumber</code></td>
                    <td>String</td>
                    <td>Bill identifier</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">amount</code></td>
                    <td>Number</td>
                    <td>Bill amount</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">fileUrl</code></td>
                    <td>String</td>
                    <td>Cloudinary URL</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">status</code></td>
                    <td>Enum</td>
                    <td>UPLOADED, VERIFIED, REJECTED</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Case Model -->
          <div class="subsection">
            <h3 class="subsection-title">
              <span class="number">5</span>
              Case Model
            </h3>
            <p>
              <strong>File:</strong>
              <code class="inline-code">backend/models/Case.js</code>
            </p>
            <p>A funding case created after KYC completion.</p>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code class="inline-code">billId</code></td>
                    <td>ObjectId ‚Üí Bill</td>
                    <td>Required</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">caseNumber</code></td>
                    <td>String</td>
                    <td>Auto-generated: GRY-000001</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">status</code></td>
                    <td>Enum</td>
                    <td>See status flow</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">riskAssessment</code></td>
                    <td>Object</td>
                    <td>Risk scoring data</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">commercialSnapshot</code></td>
                    <td>Mixed</td>
                    <td>Locked terms snapshot</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Bid Model -->
          <div class="subsection">
            <h3 class="subsection-title">
              <span class="number">6</span>
              Bid Model
            </h3>
            <p>
              <strong>File:</strong>
              <code class="inline-code">backend/models/Bid.js</code>
            </p>
            <p>Commercial bids placed by EPC companies.</p>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code class="inline-code">caseId</code></td>
                    <td>ObjectId ‚Üí Case</td>
                    <td>Required</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">epcId</code></td>
                    <td>ObjectId ‚Üí Company</td>
                    <td>Required</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">bidAmount</code></td>
                    <td>Number</td>
                    <td>Required</td>
                  </tr>
                  <tr>
                    <td>
                      <code class="inline-code">fundingDurationDays</code>
                    </td>
                    <td>Number</td>
                    <td>Required</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">negotiations</code></td>
                    <td>Array</td>
                    <td>Negotiation history</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">lockedTerms</code></td>
                    <td>Object</td>
                    <td>Final locked terms</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Additional Models -->
          <div class="grid-2" style="margin-top: 32px">
            <div class="card">
              <h4 style="margin-bottom: 12px">7. CwcRf Model</h4>
              <p><code class="inline-code">backend/models/CwcRf.js</code></p>
              <p style="margin-bottom: 0">
                Cash Working Capital Request Form - submitted by sub-contractors
                to initiate funding.
              </p>
            </div>
            <div class="card">
              <h4 style="margin-bottom: 12px">8. ChatMessage Model</h4>
              <p>
                <code class="inline-code">backend/models/ChatMessage.js</code>
              </p>
              <p style="margin-bottom: 0">
                KYC chat messages between Ops and Sub-contractors.
              </p>
            </div>
            <div class="card">
              <h4 style="margin-bottom: 12px">9. Document Model</h4>
              <p><code class="inline-code">backend/models/Document.js</code></p>
              <p style="margin-bottom: 0">
                Company KYC/verification documents (CIN, GST, PAN, etc.).
              </p>
            </div>
            <div class="card">
              <h4 style="margin-bottom: 12px">10. GryLink Model</h4>
              <p><code class="inline-code">backend/models/GryLink.js</code></p>
              <p style="margin-bottom: 0">
                Secure onboarding links for password setup (expires in 7 days).
              </p>
            </div>
          </div>
        </section>

        <!-- API Routes -->
        <section class="section" id="routes">
          <h2 class="section-title">API Routes</h2>

          <!-- Auth Routes -->
          <div class="subsection">
            <h3 class="subsection-title">
              Authentication Routes <code class="inline-code">/api/auth</code>
            </h3>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th style="width: 80px">Method</th>
                    <th>Endpoint</th>
                    <th>Auth</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/register</code></td>
                    <td>No</td>
                    <td>Register internal users</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/login</code></td>
                    <td>No</td>
                    <td>Login for all users, returns JWT</td>
                  </tr>
                  <tr>
                    <td><span class="method method-get">GET</span></td>
                    <td><code class="inline-code">/me</code></td>
                    <td>Yes</td>
                    <td>Get current user info</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td>
                      <code class="inline-code">/register-subcontractor</code>
                    </td>
                    <td>No</td>
                    <td>Sub-contractor self-registration</td>
                  </tr>
                  <tr>
                    <td><span class="method method-get">GET</span></td>
                    <td>
                      <code class="inline-code">/check-email/:email</code>
                    </td>
                    <td>No</td>
                    <td>Check if email is valid SC lead</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Sales Routes -->
          <div class="subsection">
            <h3 class="subsection-title">
              Sales Routes <code class="inline-code">/api/sales</code>
            </h3>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th style="width: 80px">Method</th>
                    <th>Endpoint</th>
                    <th>Roles</th>
                    <th>Workflow</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/leads</code></td>
                    <td><span class="badge badge-primary">sales</span></td>
                    <td>Step 3</td>
                    <td>Create company lead</td>
                  </tr>
                  <tr>
                    <td><span class="method method-get">GET</span></td>
                    <td><code class="inline-code">/leads</code></td>
                    <td><span class="badge badge-primary">sales</span></td>
                    <td>-</td>
                    <td>Get all leads</td>
                  </tr>
                  <tr>
                    <td><span class="method method-get">GET</span></td>
                    <td><code class="inline-code">/subcontractors</code></td>
                    <td><span class="badge badge-primary">sales</span></td>
                    <td>Step 8</td>
                    <td>Get SC leads</td>
                  </tr>
                  <tr>
                    <td><span class="method method-patch">PATCH</span></td>
                    <td>
                      <code class="inline-code"
                        >/subcontractors/:id/contacted</code
                      >
                    </td>
                    <td><span class="badge badge-primary">sales</span></td>
                    <td>Step 8</td>
                    <td>Mark SC as contacted</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Company Routes -->
          <div class="subsection">
            <h3 class="subsection-title">
              Company Routes <code class="inline-code">/api/company</code>
            </h3>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th style="width: 80px">Method</th>
                    <th>Endpoint</th>
                    <th>Roles</th>
                    <th>Workflow</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/documents</code></td>
                    <td><span class="badge badge-success">epc</span></td>
                    <td>Step 5</td>
                    <td>Upload company documents</td>
                  </tr>
                  <tr>
                    <td><span class="method method-get">GET</span></td>
                    <td><code class="inline-code">/profile</code></td>
                    <td><span class="badge badge-success">epc</span></td>
                    <td>-</td>
                    <td>Get company profile</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/subcontractors</code></td>
                    <td><span class="badge badge-success">epc</span></td>
                    <td>Step 7A</td>
                    <td>Add SCs manually</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td>
                      <code class="inline-code">/subcontractors/bulk</code>
                    </td>
                    <td><span class="badge badge-success">epc</span></td>
                    <td>Step 7B</td>
                    <td>Bulk upload via Excel</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- SubContractor Routes -->
          <div class="subsection">
            <h3 class="subsection-title">
              Sub-Contractor Routes
              <code class="inline-code">/api/subcontractor</code>
            </h3>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th style="width: 80px">Method</th>
                    <th>Endpoint</th>
                    <th>Workflow</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="method method-get">GET</span></td>
                    <td><code class="inline-code">/profile</code></td>
                    <td>-</td>
                    <td>Get profile and dashboard</td>
                  </tr>
                  <tr>
                    <td><span class="method method-put">PUT</span></td>
                    <td><code class="inline-code">/profile</code></td>
                    <td>Step 10</td>
                    <td>Complete profile</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/bills</code></td>
                    <td>Step 11</td>
                    <td>Upload bills</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/cwc</code></td>
                    <td>Step 13</td>
                    <td>Submit CWC RF</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/bids/:id/respond</code></td>
                    <td>Step 18</td>
                    <td>Respond to bid</td>
                  </tr>
                  <tr>
                    <td><span class="method method-get">GET</span></td>
                    <td><code class="inline-code">/bids</code></td>
                    <td>Step 18</td>
                    <td>Get incoming bids</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Ops Routes -->
          <div class="subsection">
            <h3 class="subsection-title">
              Operations Routes <code class="inline-code">/api/ops</code>
            </h3>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th style="width: 80px">Method</th>
                    <th>Endpoint</th>
                    <th>Workflow</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td>
                      <code class="inline-code">/companies/:id/verify</code>
                    </td>
                    <td>Step 6</td>
                    <td>Verify company docs</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/bills/:id/verify</code></td>
                    <td>Step 12</td>
                    <td>Verify bill</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/kyc/:id/request</code></td>
                    <td>Step 14</td>
                    <td>Request KYC docs</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/kyc/:id/complete</code></td>
                    <td>Step 14-15</td>
                    <td>Complete KYC</td>
                  </tr>
                  <tr>
                    <td><span class="method method-get">GET</span></td>
                    <td><code class="inline-code">/kyc/:id/chat</code></td>
                    <td>Step 14</td>
                    <td>Get chat messages</td>
                  </tr>
                  <tr>
                    <td><span class="method method-post">POST</span></td>
                    <td><code class="inline-code">/kyc/:id/chat</code></td>
                    <td>Step 14</td>
                    <td>Send chat message</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Cases & Bids Routes -->
          <div class="grid-2">
            <div class="subsection">
              <h3 class="subsection-title">
                Cases Routes <code class="inline-code">/api/cases</code>
              </h3>
              <div class="table-wrapper">
                <table>
                  <thead>
                    <tr>
                      <th>Method</th>
                      <th>Endpoint</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><span class="method method-get">GET</span></td>
                      <td><code class="inline-code">/</code></td>
                      <td>Get all cases</td>
                    </tr>
                    <tr>
                      <td><span class="method method-get">GET</span></td>
                      <td><code class="inline-code">/:id</code></td>
                      <td>Get single case</td>
                    </tr>
                    <tr>
                      <td><span class="method method-post">POST</span></td>
                      <td><code class="inline-code">/:id/review</code></td>
                      <td>EPC reviews case</td>
                    </tr>
                    <tr>
                      <td><span class="method method-post">POST</span></td>
                      <td>
                        <code class="inline-code">/:id/risk-assessment</code>
                      </td>
                      <td>RMT assessment</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="subsection">
              <h3 class="subsection-title">
                Bids Routes <code class="inline-code">/api/bids</code>
              </h3>
              <div class="table-wrapper">
                <table>
                  <thead>
                    <tr>
                      <th>Method</th>
                      <th>Endpoint</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><span class="method method-post">POST</span></td>
                      <td><code class="inline-code">/</code></td>
                      <td>Place a bid</td>
                    </tr>
                    <tr>
                      <td><span class="method method-post">POST</span></td>
                      <td><code class="inline-code">/:id/negotiate</code></td>
                      <td>Negotiate a bid</td>
                    </tr>
                    <tr>
                      <td><span class="method method-post">POST</span></td>
                      <td><code class="inline-code">/:id/lock</code></td>
                      <td>Lock agreement</td>
                    </tr>
                    <tr>
                      <td><span class="method method-get">GET</span></td>
                      <td><code class="inline-code">/my</code></td>
                      <td>Get my bids</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </section>

        <!-- Backend Services -->
        <section class="section" id="services">
          <h2 class="section-title">Backend Services</h2>
          <div class="grid-2">
            <div class="card">
              <h4 style="margin-bottom: 8px">authService.js</h4>
              <p style="font-size: 14px; margin-bottom: 12px">
                Authentication and user management
              </p>
              <ul style="font-size: 13px; margin: 0">
                <li>
                  <code class="inline-code">register()</code> - Register
                  internal users
                </li>
                <li>
                  <code class="inline-code">login()</code> - Authenticate user
                </li>
                <li>
                  <code class="inline-code">generateToken()</code> - Generate
                  JWT
                </li>
                <li>
                  <code class="inline-code">setPasswordViaGryLink()</code> - Set
                  password
                </li>
              </ul>
            </div>
            <div class="card">
              <h4 style="margin-bottom: 8px">salesService.js</h4>
              <p style="font-size: 14px; margin-bottom: 12px">
                Sales team operations
              </p>
              <ul style="font-size: 13px; margin: 0">
                <li>
                  <code class="inline-code">createCompanyLead()</code> - Create
                  lead
                </li>
                <li>
                  <code class="inline-code">getLeads()</code> - Get company
                  leads
                </li>
                <li>
                  <code class="inline-code">getSubContractorLeads()</code> - Get
                  SC leads
                </li>
                <li>
                  <code class="inline-code">getDashboardStats()</code> -
                  Aggregate stats
                </li>
              </ul>
            </div>
            <div class="card">
              <h4 style="margin-bottom: 8px">companyService.js</h4>
              <p style="font-size: 14px; margin-bottom: 12px">
                EPC company operations
              </p>
              <ul style="font-size: 13px; margin: 0">
                <li>
                  <code class="inline-code">uploadDocuments()</code> - Upload to
                  Cloudinary
                </li>
                <li>
                  <code class="inline-code">addSubContractors()</code> - Add SCs
                  manually
                </li>
                <li>
                  <code class="inline-code">bulkAddSubContractors()</code> -
                  Parse Excel
                </li>
              </ul>
            </div>
            <div class="card">
              <h4 style="margin-bottom: 8px">subContractorService.js</h4>
              <p style="font-size: 14px; margin-bottom: 12px">
                Sub-contractor operations
              </p>
              <ul style="font-size: 13px; margin: 0">
                <li>
                  <code class="inline-code">completeProfile()</code> - Complete
                  profile
                </li>
                <li>
                  <code class="inline-code">uploadBill()</code> - Upload bills
                </li>
                <li>
                  <code class="inline-code">submitCwcRf()</code> - Submit CWC
                </li>
                <li>
                  <code class="inline-code">respondToBid()</code> -
                  Accept/reject/negotiate
                </li>
              </ul>
            </div>
            <div class="card">
              <h4 style="margin-bottom: 8px">opsService.js</h4>
              <p style="font-size: 14px; margin-bottom: 12px">
                Operations team workflows
              </p>
              <ul style="font-size: 13px; margin: 0">
                <li>
                  <code class="inline-code">verifyCompanyDocs()</code> -
                  Approve/reject
                </li>
                <li>
                  <code class="inline-code">verifyBill()</code> - Verify bill
                </li>
                <li>
                  <code class="inline-code">completeKyc()</code> - Complete KYC
                </li>
                <li>
                  <code class="inline-code">sendChatMessage()</code> - KYC chat
                </li>
              </ul>
            </div>
            <div class="card">
              <h4 style="margin-bottom: 8px">bidService.js</h4>
              <p style="font-size: 14px; margin-bottom: 12px">
                Bid management and negotiation
              </p>
              <ul style="font-size: 13px; margin: 0">
                <li>
                  <code class="inline-code">placeBid()</code> - Place new bid
                </li>
                <li>
                  <code class="inline-code">negotiate()</code> - Add
                  counter-offer
                </li>
                <li>
                  <code class="inline-code">lockCommercial()</code> - Finalize
                  agreement
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Frontend Portals -->
        <section class="section" id="portals">
          <h2 class="section-title">Frontend Portals</h2>

          <div class="grid-2">
            <div class="card">
              <div class="card-header">
                <div class="card-icon">üîß</div>
                <div>
                  <div class="card-title">official_portal</div>
                  <div class="card-subtitle">admin.gryork.com</div>
                </div>
              </div>
              <p style="font-size: 14px">
                <strong>Roles:</strong> sales, ops, rmt, admin
              </p>
              <p style="font-size: 14px; margin-bottom: 0">
                <strong>Pages:</strong> LoginPage, SalesDashboard, OpsDashboard,
                CasesPage, AdminDashboard
              </p>
            </div>

            <div class="card">
              <div class="card-header">
                <div class="card-icon">üë∑</div>
                <div>
                  <div class="card-title">subcontractor-portal</div>
                  <div class="card-subtitle">app.gryork.com</div>
                </div>
              </div>
              <p style="font-size: 14px">
                <strong>Roles:</strong> subcontractor
              </p>
              <p style="font-size: 14px; margin-bottom: 0">
                <strong>Features:</strong> Profile, Bills, CWC RF, Cases, Bids,
                KYC Chat
              </p>
            </div>

            <div class="card">
              <div class="card-header">
                <div class="card-icon">ü§ù</div>
                <div>
                  <div class="card-title">partner-portal</div>
                  <div class="card-subtitle">partner.gryork.com</div>
                </div>
              </div>
              <p style="font-size: 14px"><strong>Roles:</strong> epc, nbfc</p>
              <p style="font-size: 14px; margin-bottom: 0">
                <strong>Tabs:</strong> Documents, Sub-Contractors, Cases &
                Bills, My Bids
              </p>
            </div>

            <div class="card">
              <div class="card-header">
                <div class="card-icon">üîó</div>
                <div>
                  <div class="card-title">grylink-portal</div>
                  <div class="card-subtitle">link.gryork.com</div>
                </div>
              </div>
              <p style="font-size: 14px">
                <strong>Purpose:</strong> GryLink onboarding only
              </p>
              <p style="font-size: 14px; margin-bottom: 0">
                <strong>Pages:</strong> OnboardingPage, InvalidLinkPage
              </p>
            </div>

            <div class="card" style="grid-column: span 2">
              <div class="card-header">
                <div
                  class="card-icon"
                  style="background: var(--gradient-secondary)"
                >
                  üåê
                </div>
                <div>
                  <div class="card-title">Gryork-public</div>
                  <div class="card-subtitle">
                    gryork.com ‚Ä¢ Next.js + Tailwind CSS
                  </div>
                </div>
              </div>
              <p style="font-size: 14px; margin-bottom: 8px">
                <strong>Purpose:</strong> Public Marketing Website
              </p>
              <p style="font-size: 14px; margin-bottom: 0">
                <strong>Pages:</strong> Home, About, Careers, Contact, For EPC,
                For NBFC, For Sub-Contractors, How It Works, Privacy, Terms
              </p>
            </div>
          </div>
        </section>

        <!-- Configuration -->
        <section class="section" id="config">
          <h2 class="section-title">Configuration</h2>

          <div class="grid-3">
            <div class="card">
              <h4 style="margin-bottom: 12px">üì¶ Database</h4>
              <p><code class="inline-code">config/db.js</code></p>
              <p style="font-size: 13px; margin: 0">
                MongoDB connection via Mongoose using
                <code class="inline-code">MONGODB_URI</code>
              </p>
            </div>
            <div class="card">
              <h4 style="margin-bottom: 12px">‚òÅÔ∏è Cloudinary</h4>
              <p><code class="inline-code">config/cloudinary.js</code></p>
              <p style="font-size: 13px; margin: 0">
                File storage in folders: documents, bills, kyc
              </p>
            </div>
            <div class="card">
              <h4 style="margin-bottom: 12px">üìß Email</h4>
              <p><code class="inline-code">config/email.js</code></p>
              <p style="font-size: 13px; margin: 0">
                Nodemailer SMTP transport for notifications
              </p>
            </div>
          </div>
        </section>

        <!-- Auth -->
        <section class="section" id="auth">
          <h2 class="section-title">Authentication & Authorization</h2>

          <div class="card">
            <h4 style="margin-bottom: 12px">JWT Token Structure</h4>
            <div class="code-block" data-lang="javascript">
              <pre>
jwt.sign(
  { id: user._id, role: user.role, email: user.email },
  process.env.JWT_SECRET,
  { expiresIn: process.env.JWT_EXPIRES_IN || "7d" }
);</pre
              >
            </div>
          </div>

          <div class="subsection">
            <h4 style="margin-bottom: 16px">Role Permissions</h4>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Role</th>
                    <th>Access Level</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="badge badge-danger">admin</span></td>
                    <td>All routes and features</td>
                  </tr>
                  <tr>
                    <td><span class="badge badge-primary">sales</span></td>
                    <td>Sales routes, create leads</td>
                  </tr>
                  <tr>
                    <td><span class="badge badge-warning">ops</span></td>
                    <td>Operations routes, verifications</td>
                  </tr>
                  <tr>
                    <td><span class="badge badge-secondary">rmt</span></td>
                    <td>Risk management routes</td>
                  </tr>
                  <tr>
                    <td><span class="badge badge-success">epc</span></td>
                    <td>Company routes, case review, bidding</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">subcontractor</span>
                    </td>
                    <td>Sub-contractor routes, bills, CWC</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- File Uploads -->
        <section class="section" id="uploads">
          <h2 class="section-title">File Upload Handling</h2>
          <p>
            All uploads use
            <code class="inline-code">multer.memoryStorage()</code> for
            Cloudinary upload.
          </p>

          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>Handler</th>
                  <th>Max Size</th>
                  <th>Allowed Types</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code class="inline-code">uploadDocuments</code></td>
                  <td>10 MB</td>
                  <td>PDF, JPG, PNG, DOC, DOCX</td>
                </tr>
                <tr>
                  <td><code class="inline-code">uploadBills</code></td>
                  <td>10 MB</td>
                  <td>PDF, JPG, PNG</td>
                </tr>
                <tr>
                  <td><code class="inline-code">uploadChat</code></td>
                  <td>5 MB</td>
                  <td>All types allowed</td>
                </tr>
                <tr>
                  <td><code class="inline-code">uploadExcel</code></td>
                  <td>5 MB</td>
                  <td>XLS, XLSX</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Email -->
        <section class="section" id="email">
          <h2 class="section-title">Email Notifications</h2>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>Email Type</th>
                  <th>Trigger</th>
                  <th>Recipients</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Onboarding Link</td>
                  <td>Lead created</td>
                  <td>Company owner / SC contact</td>
                </tr>
                <tr>
                  <td>Status Update</td>
                  <td>Status change</td>
                  <td>Affected party</td>
                </tr>
                <tr>
                  <td>Bid Notification</td>
                  <td>New bid placed</td>
                  <td>Sub-contractor</td>
                </tr>
                <tr>
                  <td>KYC Request</td>
                  <td>Ops requests docs</td>
                  <td>Sub-contractor</td>
                </tr>
                <tr>
                  <td>Sales Notification</td>
                  <td>SC selects new company</td>
                  <td>Sales agent</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Workflow -->
        <section class="section" id="workflow">
          <h2 class="section-title">Workflow Mapping</h2>
          <p class="lead">
            Complete 20-step workflow from lead creation to commercial lock.
          </p>

          <div class="workflow" style="margin-top: 32px">
            <div class="workflow-step">
              <div class="step-number">1</div>
              <div class="step-content">
                <div class="step-title">Offline Sales Contact</div>
                <div class="step-actor">Actor: Sales</div>
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">3</div>
              <div class="step-content">
                <div class="step-title">Create Company Lead</div>
                <div class="step-actor">
                  Actor: Sales ‚Üí Company: LEAD_CREATED
                </div>
                <span class="step-api">POST /api/sales/leads</span>
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">4</div>
              <div class="step-content">
                <div class="step-title">Set Password via GryLink</div>
                <div class="step-actor">
                  Actor: EPC ‚Üí Company: CREDENTIALS_CREATED
                </div>
                <span class="step-api">POST /api/grylink/set-password</span>
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">5</div>
              <div class="step-content">
                <div class="step-title">Upload Company Documents</div>
                <div class="step-actor">
                  Actor: EPC ‚Üí Company: DOCS_SUBMITTED
                </div>
                <span class="step-api">POST /api/company/documents</span>
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">6</div>
              <div class="step-content">
                <div class="step-title">Ops Verifies Documents</div>
                <div class="step-actor">
                  Actor: Ops ‚Üí Company: ACTIVE or ACTION_REQUIRED
                </div>
                <span class="step-api">POST /api/ops/companies/:id/verify</span>
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">7</div>
              <div class="step-content">
                <div class="step-title">Add Sub-Contractors</div>
                <div class="step-actor">Actor: EPC ‚Üí SC: LEAD_CREATED</div>
                <span class="step-api">POST /api/company/subcontractors</span>
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">9</div>
              <div class="step-content">
                <div class="step-title">SC Signup/Registration</div>
                <div class="step-actor">Actor: SC ‚Üí SC: PROFILE_INCOMPLETE</div>
                <span class="step-api"
                  >POST /api/auth/register-subcontractor</span
                >
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">11</div>
              <div class="step-content">
                <div class="step-title">Upload Bills</div>
                <div class="step-actor">Actor: SC ‚Üí Bill: UPLOADED</div>
                <span class="step-api">POST /api/subcontractor/bills</span>
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">13</div>
              <div class="step-content">
                <div class="step-title">Submit CWC RF</div>
                <div class="step-actor">Actor: SC ‚Üí CwcRf: SUBMITTED</div>
                <span class="step-api">POST /api/subcontractor/cwc</span>
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">15</div>
              <div class="step-content">
                <div class="step-title">Case Created</div>
                <div class="step-actor">
                  Actor: System ‚Üí Case: READY_FOR_COMPANY_REVIEW
                </div>
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">17</div>
              <div class="step-content">
                <div class="step-title">EPC Places Bid</div>
                <div class="step-actor">
                  Actor: EPC ‚Üí Case: BID_PLACED, Bid: SUBMITTED
                </div>
                <span class="step-api">POST /api/bids</span>
              </div>
            </div>
            <div class="workflow-step">
              <div class="step-number">19</div>
              <div class="step-content">
                <div class="step-title">Negotiate & Lock</div>
                <div class="step-actor">
                  Actor: Both ‚Üí Case: COMMERCIAL_LOCKED
                </div>
                <span class="step-api">POST /api/bids/:id/lock</span>
              </div>
            </div>
          </div>
        </section>

        <!-- State Flows -->
        <section class="section" id="states">
          <h2 class="section-title">State Flows</h2>

          <div class="card">
            <h4 style="margin-bottom: 12px">Company Flow</h4>
            <div class="status-flow">
              <span class="status-item">LEAD_CREATED</span>
              <span class="status-arrow">‚Üí</span>
              <span class="status-item">CREDENTIALS_CREATED</span>
              <span class="status-arrow">‚Üí</span>
              <span class="status-item">DOCS_SUBMITTED</span>
              <span class="status-arrow">‚Üí</span>
              <span
                class="status-item"
                style="
                  background: rgba(16, 185, 129, 0.15);
                  border-color: #10b981;
                "
                >ACTIVE</span
              >
            </div>
          </div>

          <div class="card">
            <h4 style="margin-bottom: 12px">SubContractor Flow</h4>
            <div class="status-flow">
              <span class="status-item">LEAD_CREATED</span>
              <span class="status-arrow">‚Üí</span>
              <span class="status-item">PROFILE_INCOMPLETE</span>
              <span class="status-arrow">‚Üí</span>
              <span
                class="status-item"
                style="
                  background: rgba(16, 185, 129, 0.15);
                  border-color: #10b981;
                "
                >PROFILE_COMPLETED</span
              >
            </div>
          </div>

          <div class="card">
            <h4 style="margin-bottom: 12px">Case Flow</h4>
            <div class="status-flow">
              <span class="status-item">READY_FOR_COMPANY_REVIEW</span>
              <span class="status-arrow">‚Üí</span>
              <span class="status-item">EPC_VERIFIED</span>
              <span class="status-arrow">‚Üí</span>
              <span class="status-item">BID_PLACED</span>
              <span class="status-arrow">‚Üí</span>
              <span class="status-item">NEGOTIATION_IN_PROGRESS</span>
              <span class="status-arrow">‚Üí</span>
              <span
                class="status-item"
                style="
                  background: rgba(16, 185, 129, 0.15);
                  border-color: #10b981;
                "
                >COMMERCIAL_LOCKED</span
              >
            </div>
          </div>

          <div class="card">
            <h4 style="margin-bottom: 12px">Bid Flow</h4>
            <div class="status-flow">
              <span class="status-item">SUBMITTED</span>
              <span class="status-arrow">‚Üí</span>
              <span class="status-item">NEGOTIATION_IN_PROGRESS</span>
              <span class="status-arrow">‚Üí</span>
              <span
                class="status-item"
                style="
                  background: rgba(16, 185, 129, 0.15);
                  border-color: #10b981;
                "
                >COMMERCIAL_LOCKED</span
              >
            </div>
          </div>
        </section>

        <!-- Environment Variables -->
        <section class="section" id="env">
          <h2 class="section-title">Environment Variables</h2>

          <div class="code-block" data-lang="bash">
            <pre>
# Server
PORT=5000
NODE_ENV=development|production

# Database
MONGODB_URI=mongodb://...

# JWT
JWT_SECRET=your-secret
JWT_EXPIRES_IN=7d

# Cloudinary
CLOUDINARY_CLOUD_NAME=xxx
CLOUDINARY_API_KEY=xxx
CLOUDINARY_API_SECRET=xxx

# Email (SMTP)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=xxx
SMTP_PASS=xxx
SMTP_FROM=noreply@gryork.com

# Frontend URLs
PUBLIC_SITE_URL=https://gryork.com
SUBCONTRACTOR_PORTAL_URL=https://app.gryork.com
GRYLINK_PORTAL_URL=https://link.gryork.com
PARTNER_PORTAL_URL=https://partner.gryork.com
ADMIN_PORTAL_URL=https://admin.gryork.com
GRYLINK_FRONTEND_URL=https://link.gryork.com</pre
            >
          </div>
        </section>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <p>
          Gryork Platform Technical Documentation ‚Ä¢ Version 1.0 ‚Ä¢ February 2026
        </p>
        <p style="margin-top: 8px; font-size: 12px">
          Bill Discounting Platform for Construction Industry
        </p>
      </footer>
    </main>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTop" onclick="scrollToTop()">‚Üë</button>

    <script>
      // Sidebar toggle for mobile
      function toggleSidebar() {
        document.getElementById("sidebar").classList.toggle("open");
        document.querySelector(".overlay").classList.toggle("visible");
      }

      // Scroll to top
      function scrollToTop() {
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      // Show/hide scroll to top button
      window.addEventListener("scroll", () => {
        const scrollTop = document.getElementById("scrollTop");
        if (window.scrollY > 500) {
          scrollTop.classList.add("visible");
        } else {
          scrollTop.classList.remove("visible");
        }
      });

      // Active nav link highlighting
      const sections = document.querySelectorAll(".section");
      const navLinks = document.querySelectorAll(".nav-link");

      window.addEventListener("scroll", () => {
        let current = "";
        sections.forEach((section) => {
          const sectionTop = section.offsetTop;
          if (scrollY >= sectionTop - 100) {
            current = section.getAttribute("id");
          }
        });

        navLinks.forEach((link) => {
          link.classList.remove("active");
          if (link.getAttribute("href") === "#" + current) {
            link.classList.add("active");
          }
        });
      });

      // Close sidebar when clicking a link on mobile
      navLinks.forEach((link) => {
        link.addEventListener("click", () => {
          if (window.innerWidth <= 1024) {
            toggleSidebar();
          }
        });
      });
    </script>
  </body>
</html>
