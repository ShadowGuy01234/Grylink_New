<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gryork Platform - Complete Workflow Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-dark: #0A2463;
            --primary-main: #1E5AAF;
            --primary-light: #3B82F6;
            --accent-green: #22C55E;
            --accent-green-dark: #16A34A;
            --gray-50: #F9FAFB;
            --gray-100: #F3F4F6;
            --gray-200: #E5E7EB;
            --gray-300: #D1D5DB;
            --gray-500: #6B7280;
            --gray-600: #4B5563;
            --gray-700: #374151;
            --gray-800: #1F2937;
            --gray-900: #111827;
            --red-500: #EF4444;
            --orange-500: #F97316;
            --purple-500: #8B5CF6;
            --cyan-500: #06B6D4;
        }

        @page {
            size: A4;
            margin: 1cm;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--gray-800);
            background: white;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Cover Page */
        .cover-page {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            page-break-after: always;
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-main) 100%);
            color: white;
            margin: -40px;
            padding: 40px;
        }

        .cover-logo {
            width: 120px;
            height: 120px;
            background: white;
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .cover-logo svg {
            width: 80px;
            height: 80px;
        }

        .cover-title {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .cover-subtitle {
            font-size: 24px;
            opacity: 0.9;
            margin-bottom: 40px;
        }

        .cover-meta {
            font-size: 14px;
            opacity: 0.7;
        }

        /* Table of Contents */
        .toc {
            page-break-after: always;
            padding: 40px 0;
        }

        .toc h2 {
            color: var(--primary-dark);
            font-size: 32px;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--primary-main);
        }

        .toc-list {
            list-style: none;
        }

        .toc-list li {
            padding: 12px 0;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .toc-list li a {
            color: var(--gray-700);
            text-decoration: none;
            font-size: 16px;
        }

        .toc-list li a:hover {
            color: var(--primary-main);
        }

        .toc-list .section-num {
            color: var(--primary-main);
            font-weight: 600;
            margin-right: 12px;
        }

        /* Section Styles */
        .section {
            page-break-before: always;
            padding: 20px 0;
        }

        .section-header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-main) 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .section-header h2 {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .section-header p {
            opacity: 0.9;
            font-size: 16px;
        }

        h3 {
            color: var(--primary-dark);
            font-size: 22px;
            margin: 30px 0 16px 0;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--gray-200);
        }

        h4 {
            color: var(--gray-700);
            font-size: 18px;
            margin: 24px 0 12px 0;
        }

        p {
            margin-bottom: 16px;
            color: var(--gray-600);
        }

        /* Domain Architecture */
        .domain-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin: 24px 0;
        }

        .domain-card {
            background: var(--gray-50);
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .domain-card.primary {
            border-color: var(--primary-main);
            background: linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%);
        }

        .domain-card.accent {
            border-color: var(--accent-green);
            background: linear-gradient(135deg, #ECFDF5 0%, #D1FAE5 100%);
        }

        .domain-card.purple {
            border-color: var(--purple-500);
            background: linear-gradient(135deg, #F5F3FF 0%, #EDE9FE 100%);
        }

        .domain-url {
            font-family: 'Consolas', monospace;
            font-size: 14px;
            color: var(--primary-main);
            background: white;
            padding: 8px 12px;
            border-radius: 6px;
            margin-bottom: 12px;
            display: inline-block;
        }

        .domain-name {
            font-size: 18px;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 8px;
        }

        .domain-users {
            font-size: 13px;
            color: var(--gray-500);
        }

        /* Workflow Diagrams */
        .workflow {
            background: var(--gray-50);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
        }

        .workflow-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .workflow-title .icon {
            width: 32px;
            height: 32px;
            background: var(--primary-main);
            color: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .workflow-steps {
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        .workflow-step {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            position: relative;
        }

        .step-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-shrink: 0;
        }

        .step-number {
            width: 36px;
            height: 36px;
            background: var(--primary-main);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            z-index: 1;
        }

        .step-number.green {
            background: var(--accent-green);
        }

        .step-number.orange {
            background: var(--orange-500);
        }

        .step-number.purple {
            background: var(--purple-500);
        }

        .step-line {
            width: 2px;
            height: 40px;
            background: var(--gray-300);
        }

        .step-content {
            flex: 1;
            padding-bottom: 24px;
        }

        .step-domain {
            font-family: 'Consolas', monospace;
            font-size: 12px;
            color: white;
            background: var(--primary-dark);
            padding: 4px 10px;
            border-radius: 4px;
            display: inline-block;
            margin-bottom: 8px;
        }

        .step-domain.green {
            background: var(--accent-green-dark);
        }

        .step-domain.orange {
            background: var(--orange-500);
        }

        .step-domain.purple {
            background: var(--purple-500);
        }

        .step-action {
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 4px;
        }

        .step-detail {
            font-size: 14px;
            color: var(--gray-500);
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }

        th, td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--gray-200);
        }

        th {
            background: var(--primary-dark);
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background: var(--gray-50);
        }

        tr:hover {
            background: var(--gray-100);
        }

        /* User Type Cards */
        .user-types {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 24px 0;
        }

        .user-card {
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            overflow: hidden;
        }

        .user-card-header {
            padding: 16px 20px;
            color: white;
            font-weight: 600;
            font-size: 16px;
        }

        .user-card-header.blue { background: var(--primary-main); }
        .user-card-header.green { background: var(--accent-green); }
        .user-card-header.purple { background: var(--purple-500); }
        .user-card-header.orange { background: var(--orange-500); }
        .user-card-header.cyan { background: var(--cyan-500); }

        .user-card-body {
            padding: 16px 20px;
        }

        .user-card-body ul {
            list-style: none;
            margin: 0;
        }

        .user-card-body li {
            padding: 6px 0;
            font-size: 14px;
            color: var(--gray-600);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .user-card-body li::before {
            content: "‚úì";
            color: var(--accent-green);
            font-weight: bold;
        }

        /* Auth Flow */
        .auth-box {
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            padding: 20px;
            margin: 16px 0;
        }

        .auth-method {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--gray-50);
            border-radius: 8px;
            margin-bottom: 12px;
        }

        .auth-method:last-child {
            margin-bottom: 0;
        }

        .auth-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-main);
            color: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .auth-icon.green { background: var(--accent-green); }
        .auth-icon.orange { background: var(--orange-500); }

        .auth-details {
            flex: 1;
        }

        .auth-name {
            font-weight: 600;
            color: var(--gray-800);
        }

        .auth-desc {
            font-size: 13px;
            color: var(--gray-500);
        }

        /* Access Matrix */
        .access-yes {
            color: var(--accent-green);
            font-weight: bold;
        }

        .access-no {
            color: var(--gray-300);
        }

        /* Notes & Callouts */
        .note {
            background: #FEF3C7;
            border-left: 4px solid #F59E0B;
            padding: 16px 20px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
        }

        .note-title {
            font-weight: 600;
            color: #92400E;
            margin-bottom: 4px;
        }

        .note-text {
            font-size: 14px;
            color: #78350F;
        }

        .info-box {
            background: #DBEAFE;
            border-left: 4px solid var(--primary-main);
            padding: 16px 20px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
        }

        .info-box-title {
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 4px;
        }

        .info-box-text {
            font-size: 14px;
            color: var(--primary-dark);
        }

        /* Flow Connector */
        .flow-connector {
            text-align: center;
            padding: 20px 0;
            position: relative;
        }

        .flow-connector::before {
            content: "";
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--gray-300);
        }

        .flow-connector .arrow {
            background: white;
            padding: 8px;
            position: relative;
            z-index: 1;
            color: var(--gray-400);
            font-size: 24px;
        }

        /* Print Styles */
        @media print {
            body {
                padding: 0;
            }
            
            .section {
                page-break-before: always;
            }
            
            .workflow, .domain-card, .user-card {
                break-inside: avoid;
            }
        }

        /* Horizontal Flow */
        .horizontal-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
            margin: 20px 0;
            padding: 20px;
            background: var(--gray-50);
            border-radius: 12px;
        }

        .flow-box {
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: 8px;
            padding: 12px 16px;
            text-align: center;
            min-width: 140px;
        }

        .flow-box.highlight {
            border-color: var(--primary-main);
            background: #EFF6FF;
        }

        .flow-box.green {
            border-color: var(--accent-green);
            background: #ECFDF5;
        }

        .flow-arrow {
            color: var(--gray-400);
            font-size: 20px;
        }

        .flow-box-title {
            font-size: 12px;
            color: var(--gray-500);
            margin-bottom: 4px;
        }

        .flow-box-value {
            font-weight: 600;
            color: var(--gray-800);
            font-size: 14px;
        }

        /* Summary Box */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 24px 0;
        }

        .summary-item {
            background: var(--gray-50);
            border-radius: 12px;
            padding: 20px;
        }

        .summary-label {
            font-size: 13px;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .summary-value {
            font-size: 18px;
            font-weight: 600;
            color: var(--gray-800);
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .badge-blue {
            background: #DBEAFE;
            color: var(--primary-main);
        }

        .badge-green {
            background: #D1FAE5;
            color: var(--accent-green-dark);
        }

        .badge-purple {
            background: #EDE9FE;
            color: var(--purple-500);
        }

        .badge-orange {
            background: #FFEDD5;
            color: var(--orange-500);
        }
    </style>
</head>
<body>

    <!-- Cover Page -->
    <div class="cover-page">
        <div class="cover-logo">
            <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 10L85 30V70L50 90L15 70V30L50 10Z" fill="#1E5AAF"/>
                <path d="M50 10L85 30L50 50L15 30L50 10Z" fill="#3B82F6"/>
                <path d="M50 50V90L15 70V30L50 50Z" fill="#0A2463"/>
                <circle cx="50" cy="50" r="15" fill="#22C55E"/>
                <path d="M45 50L48 53L55 46" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
        <h1 class="cover-title">Gryork Platform</h1>
        <p class="cover-subtitle">Complete Workflow & Domain Documentation</p>
        <div class="cover-meta">
            <p>Version 1.0 | January 2026</p>
            <p>Bill Discounting Platform for Infrastructure Sector</p>
        </div>
    </div>

    <!-- Table of Contents -->
    <div class="toc">
        <h2>Table of Contents</h2>
        <ul class="toc-list">
            <li>
                <a href="#section1"><span class="section-num">1.</span> Platform Overview & Domain Architecture</a>
            </li>
            <li>
                <a href="#section2"><span class="section-num">2.</span> User Types & Access Matrix</a>
            </li>
            <li>
                <a href="#section3"><span class="section-num">3.</span> Authentication System</a>
            </li>
            <li>
                <a href="#section4"><span class="section-num">4.</span> Sub-Contractor Complete Workflow</a>
            </li>
            <li>
                <a href="#section5"><span class="section-num">5.</span> EPC Company Complete Workflow</a>
            </li>
            <li>
                <a href="#section6"><span class="section-num">6.</span> NBFC Partner Complete Workflow</a>
            </li>
            <li>
                <a href="#section7"><span class="section-num">7.</span> Sales Team Workflow</a>
            </li>
            <li>
                <a href="#section8"><span class="section-num">8.</span> Operations Team Workflow</a>
            </li>
            <li>
                <a href="#section9"><span class="section-num">9.</span> Risk Management Team (RMT) Workflow</a>
            </li>
            <li>
                <a href="#section10"><span class="section-num">10.</span> Bill Discounting End-to-End Flow</a>
            </li>
            <li>
                <a href="#section11"><span class="section-num">11.</span> GryLink Onboarding Mechanism</a>
            </li>
            <li>
                <a href="#section12"><span class="section-num">12.</span> API & Technical Architecture</a>
            </li>
        </ul>
    </div>

    <!-- Section 1: Platform Overview -->
    <div class="section" id="section1">
        <div class="section-header">
            <h2>1. Platform Overview & Domain Architecture</h2>
            <p>Complete domain structure under gryork.com ecosystem</p>
        </div>

        <h3>Domain Structure</h3>
        <p>All Gryork applications are organized under a single domain with subdomains for different user groups and functionalities.</p>

        <div class="domain-grid">
            <div class="domain-card primary">
                <div class="domain-url">gryork.com</div>
                <div class="domain-name">Public Website</div>
                <div class="domain-users">All visitors ‚Ä¢ Marketing ‚Ä¢ Info</div>
            </div>
            <div class="domain-card primary">
                <div class="domain-url">app.gryork.com</div>
                <div class="domain-name">Sub-Contractor Portal</div>
                <div class="domain-users">Sub-Contractors ‚Ä¢ Bill Upload</div>
            </div>
            <div class="domain-card accent">
                <div class="domain-url">link.gryork.com</div>
                <div class="domain-name">GryLink</div>
                <div class="domain-users">EPC Onboarding ‚Ä¢ One-time</div>
            </div>
            <div class="domain-card primary">
                <div class="domain-url">partner.gryork.com</div>
                <div class="domain-name">Partner Portal</div>
                <div class="domain-users">EPCs ‚Ä¢ NBFCs ‚Ä¢ Daily Ops</div>
            </div>
            <div class="domain-card purple">
                <div class="domain-url">admin.gryork.com</div>
                <div class="domain-name">Officials Portal</div>
                <div class="domain-users">Sales ‚Ä¢ Ops ‚Ä¢ RMT ‚Ä¢ Admin</div>
            </div>
            <div class="domain-card">
                <div class="domain-url">api.gryork.com</div>
                <div class="domain-name">API Gateway</div>
                <div class="domain-users">Backend Services ‚Ä¢ APIs</div>
            </div>
        </div>

        <div class="info-box">
            <div class="info-box-title">Single Sign-On (SSO)</div>
            <div class="info-box-text">All subdomains share authentication via cookies on .gryork.com domain. Login once, access all permitted applications.</div>
        </div>

        <h3>Domain Purpose Summary</h3>
        <table>
            <thead>
                <tr>
                    <th>Domain</th>
                    <th>Purpose</th>
                    <th>Primary Users</th>
                    <th>Auth Required</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>gryork.com</code></td>
                    <td>Marketing, company info, contact forms</td>
                    <td>Public</td>
                    <td>No</td>
                </tr>
                <tr>
                    <td><code>app.gryork.com</code></td>
                    <td>Bill submission, CWC requests, payments</td>
                    <td>Sub-Contractors</td>
                    <td>Yes (OTP/OAuth)</td>
                </tr>
                <tr>
                    <td><code>link.gryork.com</code></td>
                    <td>EPC onboarding wizard (one-time use)</td>
                    <td>New EPCs</td>
                    <td>Token-based</td>
                </tr>
                <tr>
                    <td><code>partner.gryork.com</code></td>
                    <td>Bill validation, bidding, NBFC operations</td>
                    <td>EPCs, NBFCs</td>
                    <td>Yes (Email/Pass)</td>
                </tr>
                <tr>
                    <td><code>admin.gryork.com</code></td>
                    <td>Lead management, approvals, risk analysis</td>
                    <td>Internal Staff</td>
                    <td>Yes (Email/Pass + 2FA)</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Section 2: User Types -->
    <div class="section" id="section2">
        <div class="section-header">
            <h2>2. User Types & Access Matrix</h2>
            <p>All user categories and their platform access permissions</p>
        </div>

        <h3>External Users</h3>
        <div class="user-types">
            <div class="user-card">
                <div class="user-card-header blue">Sub-Contractor (Seller)</div>
                <div class="user-card-body">
                    <ul>
                        <li>Upload work completion bills</li>
                        <li>Submit CWC (Capital Working Capital) requests</li>
                        <li>Complete KYC via chat</li>
                        <li>Accept/negotiate commercial bids</li>
                        <li>Receive funding within 48 hours</li>
                    </ul>
                </div>
            </div>
            <div class="user-card">
                <div class="user-card-header green">EPC Company (Buyer)</div>
                <div class="user-card-body">
                    <ul>
                        <li>Onboard via GryLink invitation</li>
                        <li>Upload company documents</li>
                        <li>Validate sub-contractor bills</li>
                        <li>Place commercial bids</li>
                        <li>Manage sub-contractor relationships</li>
                    </ul>
                </div>
            </div>
            <div class="user-card">
                <div class="user-card-header purple">NBFC Partner</div>
                <div class="user-card-body">
                    <ul>
                        <li>Review pre-verified deals</li>
                        <li>Access risk assessment reports</li>
                        <li>Submit funding offers</li>
                        <li>Manage investment portfolio</li>
                        <li>Track repayments</li>
                    </ul>
                </div>
            </div>
        </div>

        <h3>Internal Users</h3>
        <div class="user-types">
            <div class="user-card">
                <div class="user-card-header orange">Sales Team</div>
                <div class="user-card-body">
                    <ul>
                        <li>Create company leads (EPCs)</li>
                        <li>Generate GryLink invitations</li>
                        <li>Contact sub-contractors</li>
                        <li>Own relationship & commission</li>
                    </ul>
                </div>
            </div>
            <div class="user-card">
                <div class="user-card-header cyan">Operations Team</div>
                <div class="user-card-body">
                    <ul>
                        <li>Verify uploaded documents</li>
                        <li>Approve/reject bills</li>
                        <li>Manage KYC process</li>
                        <li>Control state transitions</li>
                    </ul>
                </div>
            </div>
            <div class="user-card">
                <div class="user-card-header purple">Risk Management Team (RMT)</div>
                <div class="user-card-body">
                    <ul>
                        <li>Perform risk analysis</li>
                        <li>Create NBFC-shareable reports</li>
                        <li>Assess buyer creditworthiness</li>
                        <li>Set risk parameters</li>
                    </ul>
                </div>
            </div>
            <div class="user-card">
                <div class="user-card-header blue">Ops Manager / Super Admin</div>
                <div class="user-card-body">
                    <ul>
                        <li>Final approval authority</li>
                        <li>Handle exceptions</li>
                        <li>Manage user accounts</li>
                        <li>System configuration</li>
                    </ul>
                </div>
            </div>
        </div>

        <h3>Access Matrix</h3>
        <table>
            <thead>
                <tr>
                    <th>User Type</th>
                    <th>gryork.com</th>
                    <th>app.gryork.com</th>
                    <th>link.gryork.com</th>
                    <th>partner.gryork.com</th>
                    <th>admin.gryork.com</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Sub-Contractor</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-no">‚úó</td>
                </tr>
                <tr>
                    <td>EPC User</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-yes">‚úì (onboard)</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-no">‚úó</td>
                </tr>
                <tr>
                    <td>NBFC User</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-no">‚úó</td>
                </tr>
                <tr>
                    <td>Sales Agent</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-yes">‚úì</td>
                </tr>
                <tr>
                    <td>Ops Team</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-yes">‚úì</td>
                </tr>
                <tr>
                    <td>RMT Team</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-no">‚úó</td>
                    <td class="access-yes">‚úì</td>
                </tr>
                <tr>
                    <td>Super Admin</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-yes">‚úì</td>
                    <td class="access-yes">‚úì</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Section 3: Authentication -->
    <div class="section" id="section3">
        <div class="section-header">
            <h2>3. Authentication System</h2>
            <p>Unified authentication across all subdomains</p>
        </div>

        <h3>Authentication Methods by User Type</h3>
        
        <div class="auth-box">
            <h4>Sub-Contractor Authentication</h4>
            <div class="auth-method">
                <div class="auth-icon">üì±</div>
                <div class="auth-details">
                    <div class="auth-name">Phone + OTP</div>
                    <div class="auth-desc">Primary method. 6-digit OTP sent via SMS. Valid for 5 minutes.</div>
                </div>
            </div>
            <div class="auth-method">
                <div class="auth-icon green">G</div>
                <div class="auth-details">
                    <div class="auth-name">Google OAuth</div>
                    <div class="auth-desc">Alternative method. One-click sign-in using Google account.</div>
                </div>
            </div>
        </div>

        <div class="auth-box">
            <h4>EPC User Authentication</h4>
            <div class="auth-method">
                <div class="auth-icon">üîó</div>
                <div class="auth-details">
                    <div class="auth-name">GryLink Token (Onboarding)</div>
                    <div class="auth-desc">Single-use, time-bound tokenized link for initial account setup.</div>
                </div>
            </div>
            <div class="auth-method">
                <div class="auth-icon">‚úâÔ∏è</div>
                <div class="auth-details">
                    <div class="auth-name">Email + Password (Daily Use)</div>
                    <div class="auth-desc">After onboarding, standard email/password login on partner portal.</div>
                </div>
            </div>
        </div>

        <div class="auth-box">
            <h4>NBFC User Authentication</h4>
            <div class="auth-method">
                <div class="auth-icon">‚úâÔ∏è</div>
                <div class="auth-details">
                    <div class="auth-name">Email + Password + 2FA</div>
                    <div class="auth-desc">Enhanced security with mandatory two-factor authentication (TOTP).</div>
                </div>
            </div>
        </div>

        <div class="auth-box">
            <h4>Internal Staff Authentication</h4>
            <div class="auth-method">
                <div class="auth-icon orange">üîê</div>
                <div class="auth-details">
                    <div class="auth-name">Email + Password + Mandatory 2FA</div>
                    <div class="auth-desc">All internal users require 2FA. Password expires every 90 days.</div>
                </div>
            </div>
        </div>

        <h3>Token Structure</h3>
        <table>
            <thead>
                <tr>
                    <th>Token Type</th>
                    <th>Expiry</th>
                    <th>Storage</th>
                    <th>Purpose</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Access Token (JWT)</td>
                    <td>15 minutes</td>
                    <td>Memory / LocalStorage</td>
                    <td>API authorization</td>
                </tr>
                <tr>
                    <td>Refresh Token</td>
                    <td>7 days</td>
                    <td>HttpOnly Cookie</td>
                    <td>Get new access tokens</td>
                </tr>
                <tr>
                    <td>Session Cookie</td>
                    <td>7 days</td>
                    <td>HttpOnly Cookie (.gryork.com)</td>
                    <td>Cross-subdomain SSO</td>
                </tr>
                <tr>
                    <td>GryLink Token</td>
                    <td>7 days</td>
                    <td>URL parameter</td>
                    <td>One-time EPC onboarding</td>
                </tr>
            </tbody>
        </table>

        <div class="note">
            <div class="note-title">‚ö†Ô∏è Security Note</div>
            <div class="note-text">All cookies use HttpOnly, Secure, and SameSite=Lax flags. Domain is set to .gryork.com to enable SSO across subdomains.</div>
        </div>
    </div>

    <!-- Section 4: Seller (Sub-Contractor) Workflow -->
    <div class="section" id="section4">
        <div class="section-header">
            <h2>4. Seller (Sub-Contractor) Onboarding & Application Flow</h2>
            <p>Platform: Gryork Website (app.gryork.com) - Complete journey from signup to NBFC selection</p>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">üë∑</span>
                Seller Journey - Phase 1: Account & Profile Setup
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">1</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">app.gryork.com</span>
                        <div class="step-action">Account Creation</div>
                        <div class="step-detail">Register using Mobile Number (OTP-based) + Email ID. Account created ‚Üí redirected to Seller Dashboard.</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">2</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">app.gryork.com</span>
                        <div class="step-action">Profile Setup (Mandatory)</div>
                        <div class="step-detail">
                            <strong>Required Fields:</strong><br>
                            ‚Ä¢ Legal Name of Firm<br>
                            ‚Ä¢ Constitution Type (Proprietorship / Partnership / LLP / Pvt Ltd)<br>
                            ‚Ä¢ PAN Number<br>
                            ‚Ä¢ GST Number (optional but recommended)<br>
                            ‚Ä¢ Registered Address<br>
                            ‚Ä¢ Bank Account Details (A/c No, IFSC, Bank Name)
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">3</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">app.gryork.com</span>
                        <div class="step-action">KYC Completion (Online Only)</div>
                        <div class="step-detail">
                            <strong>Documents Required (Upload PDFs/Images):</strong><br>
                            ‚Ä¢ PAN Card<br>
                            ‚Ä¢ Aadhaar (Masked allowed)<br>
                            ‚Ä¢ GST Certificate (if applicable)<br>
                            ‚Ä¢ Cancelled Cheque / Bank Proof<br>
                            <em>Status: KYC Pending ‚Üí KYC Completed</em><br>
                            <strong>‚ö†Ô∏è CWCRF access enabled ONLY after KYC Completed</strong>
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number orange">4</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain orange">üîí Hard Gate</span>
                        <div class="step-action">Seller Declaration (Mandatory)</div>
                        <div class="step-detail">
                            <em>"I understand and agree that the Credit on Working Capital (CWC) availed through Gryork will be <strong>with recourse</strong>, and an <strong>escrow account</strong> will be created in my name for repayment of the facility."</em><br><br>
                            <strong>‚ö†Ô∏è Without acceptance ‚Üí CWCRF cannot be submitted</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">üìù</span>
                Seller Journey - Phase 2: CWCRF Submission
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">5</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">app.gryork.com</span>
                        <div class="step-action">CWCRF - CWC Requesting Form</div>
                        <div class="step-detail">
                            <strong>Section A: Buyer & Project Details</strong><br>
                            ‚Ä¢ Buyer Name (Dropdown - Gryork Partner Buyers)<br>
                            ‚Ä¢ Project Name<br>
                            ‚Ä¢ Project Location<br><br>
                            <strong>Section B: Invoice Details</strong><br>
                            ‚Ä¢ Invoice Number (e.g., INV-092/24)<br>
                            ‚Ä¢ Invoice Date (e.g., 15-Jan-2026)<br>
                            ‚Ä¢ Invoice Amount (e.g., ‚Çπ1,00,00,000)<br>
                            ‚Ä¢ Expected Payment Date (e.g., 30-Mar-2026)<br><br>
                            <strong>Section C: CWC Request</strong><br>
                            ‚Ä¢ Invoice Amount (Auto-filled)<br>
                            ‚Ä¢ CWC Requested (e.g., ‚Çπ80,00,000)<br>
                            ‚Ä¢ Tenure Requested (e.g., 60 days)<br><br>
                            <strong>Section D: Interest Rate Preference</strong><br>
                            ‚Ä¢ Acceptable Interest Rate Range (e.g., 16% ‚Äì 18% p.a. or "Up to 20% p.a.")
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number orange">6</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain orange">‚è≥ Wait</span>
                        <div class="step-action">Buyer Verification Pending</div>
                        <div class="step-detail">Buyer (EPC) verifies and approves the CWC request on partner.gryork.com</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number orange">7</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain orange">‚è≥ Wait</span>
                        <div class="step-action">Under Risk Review</div>
                        <div class="step-detail">RMT team performs risk analysis and generates CWCAF (CWC Approved Form)</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number orange">8</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain orange">‚è≥ Wait</span>
                        <div class="step-action">Shared with NBFCs</div>
                        <div class="step-detail">CWCAF shared with eligible NBFCs based on matching criteria</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">9</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">app.gryork.com</span>
                        <div class="step-action">NBFC Quotes Received</div>
                        <div class="step-detail">
                            Seller dashboard displays available quotes:<br>
                            ‚Ä¢ NBFC Name<br>
                            ‚Ä¢ Interest Rate<br>
                            ‚Ä¢ Tenure<br>
                            ‚Ä¢ Key Terms
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number green">10</div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain green">app.gryork.com</span>
                        <div class="step-action">NBFC Selected ‚Üí Moved to NBFC Process</div>
                        <div class="step-detail">
                            Seller selects one NBFC. Status: <strong>Moved to NBFC Process</strong><br>
                            <em>Further verification, escrow creation, and disbursal handled directly by NBFC.</em>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <h3>Seller Dashboard (MVP View)</h3>
        <div class="summary-grid">
            <div class="summary-item">
                <div class="summary-label">Dashboard Sections</div>
                <div class="summary-value">
                    1. Profile & KYC Status<br>
                    2. Active CWCRF Applications<br>
                    3. Application Status Tracker
                </div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Status Timeline Example</div>
                <div class="summary-value">
                    ‚úî KYC Completed<br>
                    ‚úî CWCRF Submitted<br>
                    ‚è≥ Buyer Verification Pending<br>
                    ‚è≥ Under Risk Review<br>
                    ‚è≥ Shared with NBFCs<br>
                    ‚è≥ NBFC Quotes Received<br>
                    ‚úî NBFC Selected
                </div>
            </div>
        </div>

        <h3>CWCRF Status Flow (System-Locked)</h3>
        <div class="horizontal-flow">
            <div class="flow-box">
                <div class="flow-box-title">Step 1</div>
                <div class="flow-box-value">KYC Completed</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">Step 2</div>
                <div class="flow-box-value">CWCRF Submitted</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box highlight">
                <div class="flow-box-title">Step 3</div>
                <div class="flow-box-value">Buyer Approved</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">Step 4</div>
                <div class="flow-box-value">Under Risk Review</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">Step 5</div>
                <div class="flow-box-value">CWCAF Ready</div>
            </div>
        </div>
        <div class="horizontal-flow">
            <div class="flow-box">
                <div class="flow-box-title">Step 6</div>
                <div class="flow-box-value">Shared with NBFCs</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">Step 7</div>
                <div class="flow-box-value">Quotes Received</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box highlight">
                <div class="flow-box-title">Step 8</div>
                <div class="flow-box-value">NBFC Selected</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box green">
                <div class="flow-box-title">Step 9</div>
                <div class="flow-box-value">Moved to NBFC</div>
            </div>
        </div>
    </div>

    <!-- Section 5: Buyer (EPC) Workflow -->
    <div class="section" id="section5">
        <div class="section-header">
            <h2>5. Buyer (EPC) Onboarding & CWCRF Verification</h2>
            <p>Platform: GRYlink (link.gryork.com) for onboarding, Partner Portal (partner.gryork.com) for operations</p>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">üè¢</span>
                Buyer Onboarding Journey
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number orange">1</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain orange">Offline</span>
                        <div class="step-action">Sales Contact (On-ground agents)</div>
                        <div class="step-detail">Sales agent contacts EPC, explains Gryork offering, collects basic details</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">2</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Lead Created (Sales)</div>
                        <div class="step-detail">Sales creates company lead in admin portal. System generates GryLink.</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number green">3</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain green">link.gryork.com</span>
                        <div class="step-action">Buyer Profile Setup</div>
                        <div class="step-detail">
                            <strong>Required Fields:</strong><br>
                            ‚Ä¢ Legal Entity Name<br>
                            ‚Ä¢ CIN / PAN<br>
                            ‚Ä¢ Registered Office Address<br>
                            ‚Ä¢ Authorized Signatory
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number green">4</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain green">link.gryork.com</span>
                        <div class="step-action">Buyer Admin Account Creation</div>
                        <div class="step-detail">
                            <strong>Roles Created:</strong><br>
                            ‚Ä¢ Buyer Admin (Primary)<br>
                            ‚Ä¢ Finance / Approval User (Optional)
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">5</div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">Account Activated</div>
                        <div class="step-detail">Company status: ACTIVE. Redirected to partner portal for daily operations. (GryLink never used again)</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">‚úÖ</span>
                Buyer CWCRF Verification (Mandatory for Each Request)
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">A</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">Approved CWC Amount (Mandatory)</div>
                        <div class="step-detail">
                            <strong>Example:</strong><br>
                            ‚Ä¢ Invoice Amount: ‚Çπ1 Cr<br>
                            ‚Ä¢ Seller Requested: ‚Çπ80 L<br>
                            ‚Ä¢ <strong>Buyer Approved: ‚Çπ60 L</strong>
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">B</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">Repayment Timeline (Mandatory)</div>
                        <div class="step-detail">
                            <strong>Select one:</strong> 30 / 45 / 60 / 90 days
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number orange">C</div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain orange">üîí Mandatory</span>
                        <div class="step-action">Repayment Arrangement Logic (Mandatory Selection)</div>
                        <div class="step-detail">
                            <strong>Buyer must select ONE primary source:</strong><br>
                            ‚Ä¢ Payment from certified RA bill<br>
                            ‚Ä¢ Payment from client release<br>
                            ‚Ä¢ Payment from internal treasury<br>
                            ‚Ä¢ Payment from retention release<br>
                            ‚Ä¢ Other (text input)<br><br>
                            <strong>Example Entry:</strong><br>
                            <em>"Repayment to be made from client-certified RA bill expected in March 2026."</em>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="note">
            <div class="note-title">‚ö†Ô∏è Verification Gate</div>
            <div class="note-text">
                <strong>CWCRF cannot move forward without ALL THREE inputs:</strong><br>
                A. Approved CWC Amount &nbsp;&nbsp; B. Repayment Timeline &nbsp;&nbsp; C. Repayment Arrangement Logic<br><br>
                <strong>Post Submission Status: Buyer Approved</strong>
            </div>
        </div>

        <h3>EPC Company States</h3>
        <div class="horizontal-flow">
            <div class="flow-box">
                <div class="flow-box-title">State 1</div>
                <div class="flow-box-value">LEAD_CREATED</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">State 2</div>
                <div class="flow-box-value">CREDENTIALS_CREATED</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">State 3</div>
                <div class="flow-box-value">DOCS_SUBMITTED</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box highlight">
                <div class="flow-box-title">State 4</div>
                <div class="flow-box-value">ACTION_REQUIRED</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box green">
                <div class="flow-box-title">State 5</div>
                <div class="flow-box-value">ACTIVE</div>
            </div>
        </div>

        <div class="note">
            <div class="note-title">üîó GryLink vs Partner Portal</div>
            <div class="note-text">
                <strong>link.gryork.com</strong> is used ONLY for initial onboarding (Steps 4-6). After that, EPC uses <strong>partner.gryork.com</strong> for all daily operations forever.
            </div>
        </div>
    </div>

    <!-- Section 6: NBFC Workflow -->
    <div class="section" id="section6">
        <div class="section-header">
            <h2>6. NBFC Onboarding & LPS (Lending Preference Sheet)</h2>
            <p>Platform: GRYlink (partner.gryork.com) - From partnership to deal funding</p>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">üè¶</span>
                NBFC Profile Setup
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">1</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">NBFC Profile Setup</div>
                        <div class="step-detail">
                            <strong>Basic Details:</strong><br>
                            ‚Ä¢ NBFC Name<br>
                            ‚Ä¢ RBI Registration Number<br>
                            ‚Ä¢ Credit Team Contact<br>
                            ‚Ä¢ Active Lending Status
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">üìã</span>
                Lending Preference Sheet (LPS) - Filled Once, Editable Anytime
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">A</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">Interest Rate Policy</div>
                        <div class="step-detail">
                            <strong>Examples:</strong><br>
                            ‚Ä¢ Flat ‚â•20% p.a.<br>
                            ‚Ä¢ 16%‚Äì18% p.a. for low-risk<br>
                            ‚Ä¢ Minimum rate: 22% p.a.
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">B</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">Risk Appetite</div>
                        <div class="step-detail">
                            <strong>Select categories:</strong><br>
                            ‚Ä¢ Low only<br>
                            ‚Ä¢ Low + Medium<br>
                            ‚Ä¢ All categories
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">C</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">Ticket Size</div>
                        <div class="step-detail">
                            ‚Ä¢ Minimum: ‚Çπ25 L<br>
                            ‚Ä¢ Maximum: ‚Çπ2 Cr
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">D</div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">Monthly Lending Capacity</div>
                        <div class="step-detail">
                            <strong>Example:</strong> ‚Çπ10 Cr available for current month
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <h3>CWCAF Sharing Logic</h3>
        <div class="info-box">
            <div class="info-box-title">üì§ CWCAF Shared ONLY If:</div>
            <div class="info-box-text">
                ‚Ä¢ Seller interest range matches NBFC rate policy<br>
                ‚Ä¢ Risk category fits NBFC appetite<br>
                ‚Ä¢ Ticket size is within limits<br>
                ‚Ä¢ Monthly capacity is available
            </div>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">üí∞</span>
                NBFC Quotation & Selection Flow
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">1</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">Receive CWCAF</div>
                        <div class="step-detail">CWCAF shared based on LPS matching criteria</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">2</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">Submit Quotation</div>
                        <div class="step-detail">
                            <strong>NBFC submits:</strong><br>
                            ‚Ä¢ Final interest rate<br>
                            ‚Ä¢ Tenure confirmation<br>
                            ‚Ä¢ Remarks (optional)
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number orange">3</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain orange">‚è≥ Wait</span>
                        <div class="step-action">Seller Selection</div>
                        <div class="step-detail">Seller reviews quotes on dashboard and selects one NBFC</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number green">4</div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain green">partner.gryork.com</span>
                        <div class="step-action">Moved to NBFC Process</div>
                        <div class="step-detail">
                            <strong>Post Selection:</strong><br>
                            Further verification, escrow creation, and disbursal handled directly by NBFC.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="note">
            <div class="note-title">üí° NBFC Note</div>
            <div class="note-text">NBFCs do NOT use GryLink. They are onboarded by the Gryork admin team and access partner.gryork.com directly with 2FA-enabled accounts.</div>
        </div>
    </div>

    <!-- Section 7: Sales Team Workflow -->
    <div class="section" id="section7">
        <div class="section-header">
            <h2>7. Sales Team Workflow</h2>
            <p>Lead creation and relationship management</p>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">üíº</span>
                Sales Agent Journey
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">1</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">Offline</span>
                        <div class="step-action">Source Companies</div>
                        <div class="step-detail">Identify potential EPC companies and sub-contractors through networking, referrals, industry events</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">2</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">Offline</span>
                        <div class="step-action">Initial Contact</div>
                        <div class="step-detail">Call/meet EPC. Explain Gryork bill discounting platform. Collect: Company name, Owner, Email, Phone, Address</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">3</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Login to Admin Portal</div>
                        <div class="step-detail">Authenticate with email/password + 2FA</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">4</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Create Company Lead</div>
                        <div class="step-detail">Enter company details. System generates Company ID. Company permanently mapped to this sales agent.</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">5</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Generate GryLink</div>
                        <div class="step-detail">Click "Send GryLink". System creates tokenized link and sends email to EPC contact.</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">6</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Track Onboarding</div>
                        <div class="step-detail">Monitor lead status: LEAD_CREATED ‚Üí CREDENTIALS_CREATED ‚Üí DOCS_SUBMITTED ‚Üí ACTIVE</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">7</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">Offline</span>
                        <div class="step-action">Contact Sub-Contractors</div>
                        <div class="step-detail">Get sub-contractor list from EPC. Contact them to join platform. Guide signup on app.gryork.com</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">8</div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Manage Relationships</div>
                        <div class="step-detail">Track all leads, commissions, deal progress. View performance dashboard.</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="note">
            <div class="note-title">üîí Key Rule</div>
            <div class="note-text">NO company or sub-contractor can enter the system without Sales initiation. Sales controls the entry point and owns the relationship.</div>
        </div>
    </div>

    <!-- Section 8: Operations Team Workflow -->
    <div class="section" id="section8">
        <div class="section-header">
            <h2>8. Operations Team Workflow</h2>
            <p>Verification, approvals, and state management</p>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">‚öôÔ∏è</span>
                Operations Team Journey
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">1</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Login with 2FA</div>
                        <div class="step-detail">Authenticate with email/password + mandatory two-factor authentication</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">2</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Review Document Queue</div>
                        <div class="step-detail">View pending EPC documents submitted via GryLink. Check completeness and authenticity.</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">3</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Verify or Request Re-upload</div>
                        <div class="step-detail">Approve documents ‚Üí ACTIVE status, OR flag issues ‚Üí ACTION_REQUIRED (EPC must re-upload)</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">4</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Review Bill Queue</div>
                        <div class="step-detail">View bills uploaded by sub-contractors. Verify bill details, amounts, supporting documents.</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">5</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Approve or Reject Bills</div>
                        <div class="step-detail">Approve ‚Üí VERIFIED (sent to EPC), OR Reject with mandatory reason ‚Üí REJECTED</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">6</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Manage KYC Chat</div>
                        <div class="step-detail">Respond to sub-contractor KYC chats. Request additional documents. Mark KYC complete.</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">7</div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Control State Transitions</div>
                        <div class="step-detail">Manage all platform state changes. Every transition logged with actor, timestamp, reason.</div>
                    </div>
                </div>
            </div>
        </div>

        <h3>Ops Team Responsibilities</h3>
        <table>
            <thead>
                <tr>
                    <th>Task</th>
                    <th>Input</th>
                    <th>Output</th>
                    <th>Domain</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>EPC Document Verification</td>
                    <td>DOCS_SUBMITTED</td>
                    <td>ACTIVE or ACTION_REQUIRED</td>
                    <td>admin.gryork.com</td>
                </tr>
                <tr>
                    <td>Bill Verification</td>
                    <td>UPLOADED</td>
                    <td>VERIFIED or REJECTED</td>
                    <td>admin.gryork.com</td>
                </tr>
                <tr>
                    <td>KYC Management</td>
                    <td>RF_SUBMITTED</td>
                    <td>KYC_COMPLETED</td>
                    <td>admin.gryork.com</td>
                </tr>
                <tr>
                    <td>Exception Handling</td>
                    <td>Any state</td>
                    <td>Manual override</td>
                    <td>admin.gryork.com</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Section 9: RMT Workflow -->
    <div class="section" id="section9">
        <div class="section-header">
            <h2>9. Risk Management Team (RMT) Workflow</h2>
            <p>Platform: admin.gryork.com - Risk analysis and CWCAF generation</p>
        </div>

        <h3>RMT Roles</h3>
        <div class="info-box">
            <div class="info-box-title">üë• RMT Team Structure</div>
            <div class="info-box-text">
                <strong>RMT Head:</strong> Reviews risk analysis, approves CWCAF<br>
                <strong>RMT Support:</strong> Contacts Seller/Buyer for missing documents, does NOT follow up directly
            </div>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">üìä</span>
                RMT Case Assignment
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">1</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Receive Case from Queue</div>
                        <div class="step-detail">
                            <strong>Case ID Format:</strong> RMT-CWC-0261<br>
                            CWCRF with CWCRF_VERIFIED status enters RMT queue
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">2</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Document Review</div>
                        <div class="step-detail">
                            <strong>Required Documents:</strong><br>
                            ‚Ä¢ Buyer CWCRF verification (A, B, C inputs)<br>
                            ‚Ä¢ Seller KYC documents<br>
                            ‚Ä¢ Invoice/Bill details<br>
                            ‚Ä¢ Any additional supporting docs
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number orange">3</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain orange">RMT Support Action</span>
                        <div class="step-action">Request Missing Documents (if needed)</div>
                        <div class="step-detail">
                            RMT Support contacts Seller/Buyer via platform notification.<br>
                            <strong>Note:</strong> RMT does NOT directly follow up - sends one request only.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">üîç</span>
                Risk Analysis MVP Parameters
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">A</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Buyer Credibility</div>
                        <div class="step-detail">
                            ‚Ä¢ Company age & history<br>
                            ‚Ä¢ Previous payment track record<br>
                            ‚Ä¢ Market reputation
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">B</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Payment Dependency</div>
                        <div class="step-detail">
                            ‚Ä¢ Single buyer vs multiple buyers<br>
                            ‚Ä¢ Concentration risk assessment
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">C</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Invoice Aging</div>
                        <div class="step-detail">
                            ‚Ä¢ Days since invoice raised<br>
                            ‚Ä¢ Expected payment timeline
                        </div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">D</div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Approved CWC Percentage</div>
                        <div class="step-detail">
                            ‚Ä¢ % of invoice amount approved by Buyer<br>
                            ‚Ä¢ Gap analysis between requested vs approved
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <h3>Risk Category Output</h3>
        <div class="status-flow">
            <span class="status green">Low Risk</span>
            <span class="status orange">Medium Risk</span>
            <span class="status red">High Risk</span>
        </div>

        <div class="workflow">
            <div class="workflow-title">
                <span class="icon">üìÑ</span>
                CWCAF (CWC Analysis Form) Generation
            </div>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number green">1</div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain green">admin.gryork.com</span>
                        <div class="step-action">Generate CWCAF</div>
                        <div class="step-detail">
                            <strong>CWCAF Contents:</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="info-box">
            <div class="info-box-title">üìã CWCAF Document Structure</div>
            <div class="info-box-text">
                <strong>1. Seller Profile Summary</strong><br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Business details, GST, PAN<br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ KYC status<br><br>
                
                <strong>2. Buyer Approval Snapshot</strong><br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Approved CWC Amount (A)<br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Repayment Timeline (B)<br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Repayment Arrangement Logic (C)<br><br>
                
                <strong>3. Invoice Details</strong><br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Invoice number, amount, date<br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Work completion details<br><br>
                
                <strong>4. Risk Assessment</strong><br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Risk category (Low/Medium/High)<br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Parameter scores<br><br>
                
                <strong>5. RMT Recommendation</strong><br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Suggested interest rate range<br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Comments/observations<br><br>
                
                <strong>6. Gryork Disclaimer</strong><br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ Platform liability clauses<br>
                &nbsp;&nbsp;&nbsp;‚Ä¢ NBFC final decision responsibility
            </div>
        </div>

        <div class="note">
            <div class="note-title">üì§ CWCAF Distribution</div>
            <div class="note-text">CWCAF is shared ONLY with NBFCs whose LPS (Lending Preference Sheet) criteria match the case parameters - interest range, risk appetite, ticket size, and monthly capacity.</div>
        </div>
    </div>

    <!-- Section 10: Bill Discounting E2E -->
    <div class="section" id="section10">
        <div class="section-header">
            <h2>10. Bill Discounting End-to-End Flow</h2>
            <p>Complete transaction flow from bill to funding</p>
        </div>

        <h3>Transaction Flow Overview</h3>
        <div class="horizontal-flow">
            <div class="flow-box">
                <div class="flow-box-title">Step 1</div>
                <div class="flow-box-value">Bill Upload</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">Step 2</div>
                <div class="flow-box-value">Ops Verify</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">Step 3</div>
                <div class="flow-box-value">EPC Validate</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">Step 4</div>
                <div class="flow-box-value">CWC + KYC</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">Step 5</div>
                <div class="flow-box-value">Bidding</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box highlight">
                <div class="flow-box-title">Step 6</div>
                <div class="flow-box-value">Commercial Lock</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-title">Step 7</div>
                <div class="flow-box-value">RMT Analysis</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box green">
                <div class="flow-box-title">Step 8</div>
                <div class="flow-box-value">NBFC Funding</div>
            </div>
        </div>

        <h3>Detailed Flow with Domains</h3>
        <table>
            <thead>
                <tr>
                    <th>Step</th>
                    <th>Actor</th>
                    <th>Domain</th>
                    <th>Action</th>
                    <th>Result State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Sub-Contractor</td>
                    <td>app.gryork.com</td>
                    <td>Upload work completion bill</td>
                    <td>BILL: UPLOADED</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Ops Team</td>
                    <td>admin.gryork.com</td>
                    <td>Verify bill authenticity</td>
                    <td>BILL: VERIFIED</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>EPC</td>
                    <td>partner.gryork.com</td>
                    <td>Validate work completion</td>
                    <td>BILL: EPC_VERIFIED</td>
                </tr>
                <tr>
                    <td>4a</td>
                    <td>Sub-Contractor</td>
                    <td>app.gryork.com</td>
                    <td>Submit CWC request + ‚Çπ1000 fee</td>
                    <td>CWC: RF_SUBMITTED</td>
                </tr>
                <tr>
                    <td>4b</td>
                    <td>Sub-Contractor + Ops</td>
                    <td>app.gryork.com + admin.gryork.com</td>
                    <td>Complete KYC via chat</td>
                    <td>CWC: KYC_COMPLETED</td>
                </tr>
                <tr>
                    <td>5a</td>
                    <td>EPC</td>
                    <td>partner.gryork.com</td>
                    <td>Place discount bid</td>
                    <td>COMMERCIAL: BID_PLACED</td>
                </tr>
                <tr>
                    <td>5b</td>
                    <td>Sub-Contractor</td>
                    <td>app.gryork.com</td>
                    <td>Accept/Negotiate/Reject bid</td>
                    <td>COMMERCIAL: NEGOTIATION</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Sub-Contractor</td>
                    <td>app.gryork.com</td>
                    <td>Accept final bid</td>
                    <td>COMMERCIAL: LOCKED</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>RMT</td>
                    <td>admin.gryork.com</td>
                    <td>Prepare risk report</td>
                    <td>RISK: REPORT_READY</td>
                </tr>
                <tr>
                    <td>8a</td>
                    <td>NBFC</td>
                    <td>partner.gryork.com</td>
                    <td>Review deal + risk report</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>8b</td>
                    <td>NBFC</td>
                    <td>partner.gryork.com</td>
                    <td>Disburse funds (within 48 hrs)</td>
                    <td>DEAL: FUNDED</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>EPC</td>
                    <td>(Bank transfer)</td>
                    <td>Pay NBFC on maturity date</td>
                    <td>DEAL: CLOSED</td>
                </tr>
            </tbody>
        </table>

        <h3>Bill States</h3>
        <div class="horizontal-flow">
            <div class="flow-box">
                <div class="flow-box-value">UPLOADED</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-value">VERIFIED</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-value">EPC_VERIFIED</div>
            </div>
        </div>

        <h3>Commercial States</h3>
        <div class="horizontal-flow">
            <div class="flow-box">
                <div class="flow-box-value">READY</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-value">BID_PLACED</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box">
                <div class="flow-box-value">NEGOTIATION</div>
            </div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-box green">
                <div class="flow-box-value">COMMERCIAL_LOCKED</div>
            </div>
        </div>
    </div>

    <!-- Section 11: GryLink Mechanism -->
    <div class="section" id="section11">
        <div class="section-header">
            <h2>11. GryLink Onboarding Mechanism</h2>
            <p>Detailed tokenized onboarding flow</p>
        </div>

        <h3>What is GryLink?</h3>
        <p>GryLink is Gryork's proprietary onboarding technology for EPC companies. It's a secure, single-use, time-bound tokenized link that enables controlled onboarding.</p>

        <div class="summary-grid">
            <div class="summary-item">
                <div class="summary-label">Token Type</div>
                <div class="summary-value">Encrypted JWT</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Validity</div>
                <div class="summary-value">7 Days</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Usage</div>
                <div class="summary-value">Single-Use Only</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Domain</div>
                <div class="summary-value">link.gryork.com</div>
            </div>
        </div>

        <h3>GryLink Token Contents</h3>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Description</th>
                    <th>Example</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>type</td>
                    <td>Token type identifier</td>
                    <td>GRYLINK</td>
                </tr>
                <tr>
                    <td>companyId</td>
                    <td>UUID of created company lead</td>
                    <td>550e8400-e29b-41d4...</td>
                </tr>
                <tr>
                    <td>salesAgentId</td>
                    <td>UUID of sales agent who created lead</td>
                    <td>123e4567-e89b-12d3...</td>
                </tr>
                <tr>
                    <td>email</td>
                    <td>EPC contact email (becomes username)</td>
                    <td>contact@epc-company.com</td>
                </tr>
                <tr>
                    <td>expiresAt</td>
                    <td>Token expiry timestamp</td>
                    <td>2026-02-07T00:00:00Z</td>
                </tr>
                <tr>
                    <td>singleUse</td>
                    <td>Flag to ensure one-time use</td>
                    <td>true</td>
                </tr>
            </tbody>
        </table>

        <h3>GryLink Flow Diagram</h3>
        <div class="workflow">
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number purple">A</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain purple">admin.gryork.com</span>
                        <div class="step-action">Sales Creates Lead</div>
                        <div class="step-detail">Sales agent logs in ‚Üí Creates company lead ‚Üí System generates GryLink token ‚Üí Email sent to EPC</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">B</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">‚úâÔ∏è Email Received</span>
                        <div class="step-action">EPC Receives Invitation</div>
                        <div class="step-detail">Email contains: link.gryork.com/onboard/eyJhbGciOiJIUzI1NiIs... (tokenized URL)</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number green">C</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain green">link.gryork.com/onboard/{token}</span>
                        <div class="step-action">Token Validation</div>
                        <div class="step-detail">System checks: Is token valid? Is it expired? Has it been used? If all pass ‚Üí Show credential page</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number green">D</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain green">link.gryork.com/onboard/credentials</span>
                        <div class="step-action">Set Password</div>
                        <div class="step-detail">Email field pre-filled (read-only). EPC sets password. Account created with EPC_ADMIN role.</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number green">E</div>
                        <div class="step-line"></div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain green">link.gryork.com/onboard/documents</span>
                        <div class="step-action">Upload Documents</div>
                        <div class="step-detail">Wizard guides EPC through document uploads. All uploads via platform only (no email/offline).</div>
                    </div>
                </div>

                <div class="workflow-step">
                    <div class="step-indicator">
                        <div class="step-number">F</div>
                    </div>
                    <div class="step-content">
                        <span class="step-domain">partner.gryork.com</span>
                        <div class="step-action">Redirect to Partner Portal</div>
                        <div class="step-detail">Onboarding complete. GryLink marked as USED. EPC redirected to partner portal for daily operations. Same session cookie works (SSO).</div>
                    </div>
                </div>
            </div>
        </div>

        <h3>GryLink Error Handling</h3>
        <table>
            <thead>
                <tr>
                    <th>Error</th>
                    <th>Cause</th>
                    <th>Resolution</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Token Expired</td>
                    <td>7+ days since generation</td>
                    <td>Sales regenerates new GryLink</td>
                </tr>
                <tr>
                    <td>Token Already Used</td>
                    <td>EPC already completed onboarding</td>
                    <td>Direct EPC to partner.gryork.com login</td>
                </tr>
                <tr>
                    <td>Invalid Token</td>
                    <td>Corrupted or tampered URL</td>
                    <td>Sales sends fresh GryLink</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Section 12: API Architecture -->
    <div class="section" id="section12">
        <div class="section-header">
            <h2>12. API & Technical Architecture</h2>
            <p>Backend services and API structure</p>
        </div>

        <h3>Microservices Architecture</h3>
        <table>
            <thead>
                <tr>
                    <th>Service</th>
                    <th>Port</th>
                    <th>Responsibility</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>API Gateway</td>
                    <td>3000</td>
                    <td>Routing, rate limiting, JWT validation</td>
                </tr>
                <tr>
                    <td>Auth Service</td>
                    <td>3001</td>
                    <td>Authentication, tokens, sessions, 2FA</td>
                </tr>
                <tr>
                    <td>Sales Service</td>
                    <td>3002</td>
                    <td>Lead management, GryLink generation</td>
                </tr>
                <tr>
                    <td>Company Service</td>
                    <td>3003</td>
                    <td>EPC management, onboarding status</td>
                </tr>
                <tr>
                    <td>SubContractor Service</td>
                    <td>3004</td>
                    <td>Sub-contractor profiles, KYC</td>
                </tr>
                <tr>
                    <td>Document Service</td>
                    <td>3005</td>
                    <td>File uploads, virus scan, storage</td>
                </tr>
                <tr>
                    <td>Bill Service</td>
                    <td>3006</td>
                    <td>Bill submission, verification</td>
                </tr>
                <tr>
                    <td>CWC Service</td>
                    <td>3007</td>
                    <td>Working capital requests, payments</td>
                </tr>
                <tr>
                    <td>Chat/KYC Service</td>
                    <td>3008</td>
                    <td>KYC chat, document requests</td>
                </tr>
                <tr>
                    <td>Commercial Service</td>
                    <td>3009</td>
                    <td>Bidding, negotiation, locking</td>
                </tr>
                <tr>
                    <td>Payment Service</td>
                    <td>3010</td>
                    <td>Payment gateway integration</td>
                </tr>
                <tr>
                    <td>Notification Service</td>
                    <td>3011</td>
                    <td>Email, SMS, push notifications</td>
                </tr>
                <tr>
                    <td>NBFC Service</td>
                    <td>3012</td>
                    <td>NBFC management, deal matching</td>
                </tr>
                <tr>
                    <td>RMT Service</td>
                    <td>3013</td>
                    <td>Risk analysis, report generation</td>
                </tr>
                <tr>
                    <td>Audit Service</td>
                    <td>3014</td>
                    <td>Immutable event logging</td>
                </tr>
            </tbody>
        </table>

        <h3>API Gateway Routes</h3>
        <div style="font-family: 'Consolas', monospace; font-size: 13px; background: var(--gray-50); padding: 20px; border-radius: 8px; overflow-x: auto;">
            <pre style="margin: 0;">
api.gryork.com
‚îÇ
‚îú‚îÄ‚îÄ /auth                     # Public - Auth Service
‚îÇ   ‚îú‚îÄ‚îÄ POST /login
‚îÇ   ‚îú‚îÄ‚îÄ POST /login/otp/request
‚îÇ   ‚îú‚îÄ‚îÄ POST /login/otp/verify
‚îÇ   ‚îú‚îÄ‚îÄ POST /oauth/google
‚îÇ   ‚îú‚îÄ‚îÄ POST /register
‚îÇ   ‚îú‚îÄ‚îÄ POST /password/reset
‚îÇ   ‚îî‚îÄ‚îÄ POST /token/refresh
‚îÇ
‚îú‚îÄ‚îÄ /v1                       # Protected - Requires JWT
‚îÇ   ‚îú‚îÄ‚îÄ /companies            # Company Service
‚îÇ   ‚îú‚îÄ‚îÄ /subcontractors       # SubContractor Service
‚îÇ   ‚îú‚îÄ‚îÄ /bills                # Bill Service
‚îÇ   ‚îú‚îÄ‚îÄ /cwc                  # CWC Service
‚îÇ   ‚îú‚îÄ‚îÄ /commercial           # Commercial Service
‚îÇ   ‚îú‚îÄ‚îÄ /documents            # Document Service
‚îÇ   ‚îú‚îÄ‚îÄ /chat                 # Chat/KYC Service
‚îÇ   ‚îú‚îÄ‚îÄ /notifications        # Notification Service
‚îÇ   ‚îî‚îÄ‚îÄ /nbfc                 # NBFC Service
‚îÇ
‚îî‚îÄ‚îÄ /internal                 # Service-to-Service Only
    ‚îú‚îÄ‚îÄ /auth/validate
    ‚îú‚îÄ‚îÄ /audit/log
    ‚îî‚îÄ‚îÄ /events/publish
            </pre>
        </div>

        <h3>Technology Stack</h3>
        <div class="summary-grid">
            <div class="summary-item">
                <div class="summary-label">Backend</div>
                <div class="summary-value">Node.js + NestJS</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Database</div>
                <div class="summary-value">PostgreSQL</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Cache</div>
                <div class="summary-value">Redis</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Message Queue</div>
                <div class="summary-value">RabbitMQ</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">File Storage</div>
                <div class="summary-value">AWS S3</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Frontend</div>
                <div class="summary-value">Next.js 14</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Language</div>
                <div class="summary-value">TypeScript</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Hosting</div>
                <div class="summary-value">AWS + Vercel</div>
            </div>
        </div>

        <div class="note">
            <div class="note-title">üìå Architecture Principles</div>
            <div class="note-text">
                ‚Ä¢ Microservices with event-driven communication<br>
                ‚Ä¢ Stateless APIs with centralized session management<br>
                ‚Ä¢ Append-only audit logs for compliance<br>
                ‚Ä¢ Role-based access control (RBAC) at API gateway<br>
                ‚Ä¢ No cross-company data access
            </div>
        </div>
    </div>

    <!-- Final Summary Page -->
    <div class="section">
        <div class="section-header">
            <h2>Quick Reference: Domain Summary</h2>
            <p>All domains and their purposes at a glance</p>
        </div>

        <table>
            <thead>
                <tr>
                    <th>Domain</th>
                    <th>Purpose</th>
                    <th>Users</th>
                    <th>Auth Method</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>gryork.com</strong></td>
                    <td>Public marketing website</td>
                    <td>Everyone</td>
                    <td>None</td>
                </tr>
                <tr>
                    <td><strong>app.gryork.com</strong></td>
                    <td>Sub-contractor portal</td>
                    <td>Sub-Contractors</td>
                    <td>Phone OTP / Google</td>
                </tr>
                <tr>
                    <td><strong>link.gryork.com</strong></td>
                    <td>EPC onboarding (one-time)</td>
                    <td>New EPCs</td>
                    <td>GryLink Token</td>
                </tr>
                <tr>
                    <td><strong>partner.gryork.com</strong></td>
                    <td>Partner operations portal</td>
                    <td>EPCs, NBFCs</td>
                    <td>Email/Password (+ 2FA for NBFC)</td>
                </tr>
                <tr>
                    <td><strong>admin.gryork.com</strong></td>
                    <td>Internal admin portal</td>
                    <td>Sales, Ops, RMT, Admin</td>
                    <td>Email/Password + 2FA</td>
                </tr>
                <tr>
                    <td><strong>api.gryork.com</strong></td>
                    <td>Backend API gateway</td>
                    <td>All applications</td>
                    <td>JWT Bearer Token</td>
                </tr>
            </tbody>
        </table>

        <div style="text-align: center; margin-top: 60px; padding: 40px; background: var(--gray-50); border-radius: 12px;">
            <h3 style="color: var(--primary-dark); margin-bottom: 16px;">Gryork Platform</h3>
            <p style="color: var(--gray-500); margin-bottom: 8px;">India's Trusted Bill Discounting Platform</p>
            <p style="color: var(--gray-400); font-size: 14px;">Version 1.0 | January 2026</p>
        </div>
    </div>

</body>
</html>
